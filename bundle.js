!function(){"use strict";function t(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_a&&e.documentElement.namespaceURI===_a?e.createElement(t):e.createElementNS(n,t)}}function e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function n(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(t,e,n){return function(r){var i=Oa;Oa=r;try{t.call(this,this.__data__,e,n)}finally{Oa=i}}}function i(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function o(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function a(t,e,i){var o=Ta.hasOwnProperty(t.type)?n:r;return function(n,r,a){var u,c=this.__on,s=o(e,r,a);if(c)for(var f=0,l=c.length;f<l;++f)if((u=c[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=i),void(u.value=e);this.addEventListener(t.type,s,i),u={type:t.type,name:t.name,value:e,listener:s,capture:i},c?c.push(u):this.__on=[u]}}function u(t,e,n,r){var i=Oa;t.sourceEvent=Oa,Oa=t;try{return e.apply(n,r)}finally{Oa=i}}function c(){}function s(){return[]}function f(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function l(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new f(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function h(t,e,n,r,i,o,a){var u,c,s,l={},h=e.length,d=o.length,p=new Array(h);for(u=0;u<h;++u)(c=e[u])&&(p[u]=s=Ia+a.call(c,c.__data__,u,e),s in l?i[u]=c:l[s]=c);for(u=0;u<d;++u)(c=l[s=Ia+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],l[s]=null):n[u]=new f(t,o[u]);for(u=0;u<h;++u)(c=e[u])&&l[p[u]]===c&&(i[u]=c)}function d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function p(t){return function(){this.removeAttribute(t)}}function b(t){return function(){this.removeAttributeNS(t.space,t.local)}}function y(t,e){return function(){this.setAttribute(t,e)}}function g(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function m(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function w(t){return function(){this.style.removeProperty(t)}}function _(t,e,n){return function(){this.style.setProperty(t,e,n)}}function x(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function M(t,e){return t.style.getPropertyValue(e)||za(t).getComputedStyle(t,null).getPropertyValue(e)}function k(t){return function(){delete this[t]}}function N(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function E(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new T(t)}function T(t){this._node=t,this._names=E(t.getAttribute("class")||"")}function O(t,e){for(var n=A(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function C(t,e){for(var n=A(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function P(t){return function(){O(this,t)}}function j(t){return function(){C(this,t)}}function q(t,e){return function(){(e.apply(this,arguments)?O:C)(this,t)}}function U(){this.textContent=""}function D(t){return function(){this.textContent=t}}function F(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function I(){this.innerHTML=""}function z(t){return function(){this.innerHTML=t}}function L(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function $(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function H(t,e,n){var r=za(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function X(t,e){return function(){return H(this,t,e)}}function G(t,e){return function(){return H(this,t,e.apply(this,arguments))}}function Z(t,e){this._groups=t,this._parents=e}function B(){return new Z([[document.documentElement]],La)}function W(){}function Q(t,e){var n=new W;if(t instanceof W)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function J(){}function K(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new tt(r)}function tt(t){this._=t}function et(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function nt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function rt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ha,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function it(t){return function(e,n){t(null==e?n:null)}}function ot(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function at(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ut(t,e){var n=at(t);return function(r,i){return e(n(r),i,t)}}function ct(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function st(t,e){return function(n){return t(n.responseText,e)}}function ft(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=lt(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function lt(t,e){function n(t,e){e.length&&e.pop();for(var n=s[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(c(n[r],r));t<0&&eu(e,i)}function r(t){return c(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}function u(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(u)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var c=tu(t.transform),s=t.arcs;return u(e)}function ht(t,e,n){var r,i,o;if(arguments.length>1)r=dt(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:ru(t,r)}}function dt(t,e,n){function r(t){var e=t<0?~t:t;(f[e]||(f[e]=[])).push({i:t,g:c})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}function a(t){t.forEach(o)}function u(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(u);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":a(t.arcs)}}var c,s=[],f=[];return u(e),f.forEach(null==n?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}function pt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function bt(){try{return hu.apply(this,arguments)}catch(t){return gu.errorObject.e=t,gu.errorObject}}function yt(t){return t.reduce(function(t,e){return t.concat(e instanceof wu.UnsubscriptionError?e.errors:e)},[])}function gt(t){return function(e,n){return zc(t(e),n)}}function vt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Vc?10:o>=Hc?5:o>=Xc?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Vc?10:o>=Hc?5:o>=Xc?2:1)}function mt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Vc?i*=10:o>=Hc?i*=5:o>=Xc&&(i*=2),e<t?-i:i}function wt(t){return t.length}function _t(){}function xt(t,e){var n=new _t;if(t instanceof _t)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Mt(){}function kt(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==rs)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=xt(),r=[],i=rs;return t=null==t?[]:ns.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=xt();for(var i,o,a=-1,u=t.length;++a<u;)n.has(o=(i=t[a])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=ns.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return kt().domain(r).range(t).unknown(i)},e}function Nt(){function t(){var t=i().length,r=a[1]<a[0],l=a[r-0],h=a[1-r];e=(h-l)/Math.max(1,t-c+2*s),u&&(e=Math.floor(e)),l+=(h-l-e*(t-c))*f,n=e*(1-c),u&&(l=Math.round(l),n=Math.round(n));var d=Yc(t).map(function(t){return l+e*t});return o(r?d.reverse():d)}var e,n,r=kt().unknown(void 0),i=r.domain,o=r.range,a=[0,1],u=!1,c=0,s=0,f=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],u=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(u=!!e,t()):u},r.padding=function(e){return arguments.length?(c=s=Math.max(0,Math.min(1,e)),t()):c},r.paddingInner=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),t()):s},r.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},r.copy=function(){return Nt().domain(i()).range(a).round(u).paddingInner(c).paddingOuter(s).align(f)},t()}function St(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Et(){}function At(t){var e;return t=(t+"").trim().toLowerCase(),(e=cs.exec(t))?(e=parseInt(e[1],16),new jt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=ss.exec(t))?Tt(parseInt(e[1],16)):(e=fs.exec(t))?new jt(e[1],e[2],e[3],1):(e=ls.exec(t))?new jt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=hs.exec(t))?Ot(e[1],e[2],e[3],e[4]):(e=ds.exec(t))?Ot(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ps.exec(t))?qt(e[1],e[2]/100,e[3]/100,1):(e=bs.exec(t))?qt(e[1],e[2]/100,e[3]/100,e[4]):ys.hasOwnProperty(t)?Tt(ys[t]):"transparent"===t?new jt(NaN,NaN,NaN,0):null}function Tt(t){return new jt(t>>16&255,t>>8&255,255&t,1)}function Ot(t,e,n,r){return r<=0&&(t=e=n=NaN),new jt(t,e,n,r)}function Ct(t){return t instanceof Et||(t=At(t)),t?(t=t.rgb(),new jt(t.r,t.g,t.b,t.opacity)):new jt}function Pt(t,e,n,r){return 1===arguments.length?Ct(t):new jt(t,e,n,null==r?1:r)}function jt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,r)}function Ut(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof Et||(t=At(t)),!t)return new Dt;if(t instanceof Dt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Dt(a,u,c,t.opacity)}function Dt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ft(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function It(t){if(t instanceof zt)return new zt(t.l,t.a,t.b,t.opacity);if(t instanceof Ht){var e=t.h*gs;return new zt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof jt||(t=Ct(t));var n=Yt(t.r),r=Yt(t.g),i=Yt(t.b),o=Lt((.4124564*n+.3575761*r+.1804375*i)/ms),a=Lt((.2126729*n+.7151522*r+.072175*i)/ws);return new zt(116*a-16,500*(o-a),200*(a-Lt((.0193339*n+.119192*r+.9503041*i)/_s)),t.opacity)}function zt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Lt(t){return t>Ns?Math.pow(t,1/3):t/ks+xs}function Rt(t){return t>Ms?t*t*t:ks*(t-xs)}function $t(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Vt(t){if(t instanceof Ht)return new Ht(t.h,t.c,t.l,t.opacity);t instanceof zt||(t=It(t));var e=Math.atan2(t.b,t.a)*vs;return new Ht(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ht(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Xt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof jt||(t=Ct(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(js*r+Cs*e-Ps*n)/(js+Cs-Ps),o=r-i,a=(Os*(n-i)-As*o)/Ts,u=Math.sqrt(a*a+o*o)/(Os*i*(1-i)),c=u?Math.atan2(a,o)*vs-120:NaN;return new Zt(c<0?c+360:c,u,i,t.opacity)}function Gt(t,e,n,r){return 1===arguments.length?Xt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bt(t,e){return function(n){return t+n*e}}function Wt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qt(t){return 1==(t=+t)?Jt:function(e,n){return n-e?Wt(e,n,t):qs(isNaN(e)?n:e)}}function Jt(t,e){var n=e-t;return n?Bt(t,n):qs(isNaN(t)?e:t)}function Kt(t){return function(){return t}}function te(t){return function(e){return t(e)+""}}function ee(t){return function e(n){function r(e,r){var i=t((e=Gt(e)).h,(r=Gt(r)).h),o=Jt(e.s,r.s),a=Jt(e.l,r.l),u=Jt(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}function ne(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gs(e)}function re(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function ie(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function oe(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function ae(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=n(t[u],t[u+1]),a[u]=r(e[u],e[u+1]);return function(e){var n=Lc(t,e,1,i)-1;return a[n](o[n](e))}}function ue(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ce(t,e){function n(){return i=Math.min(u.length,c.length)>2?ae:oe,o=a=null,r}function r(e){return(o||(o=i(u,c,f?re(t):t,s)))(+e)}var i,o,a,u=Bs,c=Bs,s=Ys,f=!1;return r.invert=function(t){return(a||(a=i(c,u,ne,f?ie(e):e)))(+t)},r.domain=function(t){return arguments.length?(u=es.call(t,Zs),n()):u.slice()},r.range=function(t){return arguments.length?(c=ns.call(t),n()):c.slice()},r.rangeRound=function(t){return c=ns.call(t),s=Vs,n()},r.clamp=function(t){return arguments.length?(f=!!t,n()):f},r.interpolate=function(t){return arguments.length?(s=t,n()):s},n()}function se(t){return new fe(t)}function fe(t){if(!(e=nf.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],u=e[6]&&+e[6],c=!!e[7],s=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(c=!0,f="g"):ef[f]||(f=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=c,this.precision=s,this.type=f}function le(t){var e=t.domain;return t.ticks=function(t){var n=e();return Gc(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return df(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],c=i[a];return c<u&&(r=u,u=c,c=r,r=o,o=a,a=r),(r=vt(u,c,n))>0?r=vt(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=vt(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(c*r)/r,e(i)),t},t}function he(){var t=ce(ne,Is);return t.copy=function(){return ue(t,he())},le(t)}function de(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=Zc(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[Lc(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)null==(r=e[i])||isNaN(r=+r)||n.push(r);return n.sort(zc),t()},e.range=function(e){return arguments.length?(r=ns.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return de().domain(n).range(r)},e}function pe(){function t(t){if(t<=t)return n[Lc(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=ns.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=ns.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return pe().domain(e).range(n)},t}function be(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(new Date(+n))}while(e(n,o),t(n),n<r);return a},i.filter=function(n){return be(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return pf.setTime(+e),bf.setTime(+r),t(pf),t(bf),Math.floor(n(pf,bf))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function ye(t){return be(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gf)/vf})}function ge(t){return be(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/vf})}function ve(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function me(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function we(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function _e(t){function e(t,e){return function(n){var r,i,o,a=[],u=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=qf[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function n(t,e){return function(n){var i,o,a=we(1900);if(r(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(o=(i=me(we(a.y))).getUTCDay())>4||0===o?Sf.ceil(i):Sf(i),i=kf.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(i=(o=(i=e(we(a.y))).getDay())>4||0===o?_f.ceil(i):_f(i),i=mf.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?me(we(a.y)).getUTCDay():e(we(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,me(a)):e(a)}}function r(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=k[i in qf?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,a=t.time,u=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=ke(u),d=Ne(u),p=ke(c),b=Ne(c),y=ke(s),g=Ne(s),v=ke(f),m=Ne(f),w=ke(l),_=Ne(l),x={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:He,e:He,f:We,H:Xe,I:Ge,j:Ze,L:Be,m:Qe,M:Je,p:function(t){return u[+(t.getHours()>=12)]},Q:En,s:An,S:Ke,u:tn,U:en,V:nn,w:rn,W:on,x:null,X:null,y:an,Y:un,Z:cn,"%":Sn},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:sn,e:sn,f:pn,H:fn,I:ln,j:hn,L:dn,m:bn,M:yn,p:function(t){return u[+(t.getUTCHours()>=12)]},Q:En,s:An,S:gn,u:vn,U:mn,V:wn,w:_n,W:xn,x:null,X:null,y:Mn,Y:kn,Z:Nn,"%":Sn},k={a:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=b[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=w.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return r(t,i,e,n)},d:Ue,e:Ue,f:Re,H:Fe,I:Fe,j:De,L:Le,m:qe,M:Ie,p:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.p=d[r[0].toLowerCase()],n+r[0].length):-1},Q:Ye,s:Ve,S:ze,u:Ee,U:Ae,V:Te,w:Se,W:Oe,x:function(t,e,n){return r(t,o,e,n)},X:function(t,e,n){return r(t,a,e,n)},y:Pe,Y:Ce,Z:je,"%":$e};return x.x=e(o,x),x.X=e(a,x),x.c=e(i,x),M.x=e(o,M),M.X=e(a,M),M.c=e(i,M),{format:function(t){var n=e(t+="",x);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",ve);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",M);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,me);return e.toString=function(){return t},e}}}function xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Me(t){return t.replace(Ff,"\\$&")}function ke(t){return new RegExp("^(?:"+t.map(Me).join("|")+")","i")}function Ne(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Se(t,e,n){var r=Uf.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ee(t,e,n){var r=Uf.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ae(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Te(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Oe(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ce(t,e,n){var r=Uf.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Pe(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function je(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qe(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ue(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function De(t,e,n){var r=Uf.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fe(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ie(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ze(t,e,n){var r=Uf.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Le(t,e,n){var r=Uf.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Re(t,e,n){var r=Uf.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $e(t,e,n){var r=Df.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ye(t,e,n){var r=Uf.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ve(t,e,n){var r=Uf.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function He(t,e){return xe(t.getDate(),e,2)}function Xe(t,e){return xe(t.getHours(),e,2)}function Ge(t,e){return xe(t.getHours()%12||12,e,2)}function Ze(t,e){return xe(1+mf.count(Mf(t),t),e,3)}function Be(t,e){return xe(t.getMilliseconds(),e,3)}function We(t,e){return Be(t,e)+"000"}function Qe(t,e){return xe(t.getMonth()+1,e,2)}function Je(t,e){return xe(t.getMinutes(),e,2)}function Ke(t,e){return xe(t.getSeconds(),e,2)}function tn(t){var e=t.getDay();return 0===e?7:e}function en(t,e){return xe(wf.count(Mf(t),t),e,2)}function nn(t,e){var n=t.getDay();return t=n>=4||0===n?xf(t):xf.ceil(t),xe(xf.count(Mf(t),t)+(4===Mf(t).getDay()),e,2)}function rn(t){return t.getDay()}function on(t,e){return xe(_f.count(Mf(t),t),e,2)}function an(t,e){return xe(t.getFullYear()%100,e,2)}function un(t,e){return xe(t.getFullYear()%1e4,e,4)}function cn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xe(e/60|0,"0",2)+xe(e%60,"0",2)}function sn(t,e){return xe(t.getUTCDate(),e,2)}function fn(t,e){return xe(t.getUTCHours(),e,2)}function ln(t,e){return xe(t.getUTCHours()%12||12,e,2)}function hn(t,e){return xe(1+kf.count(Af(t),t),e,3)}function dn(t,e){return xe(t.getUTCMilliseconds(),e,3)}function pn(t,e){return dn(t,e)+"000"}function bn(t,e){return xe(t.getUTCMonth()+1,e,2)}function yn(t,e){return xe(t.getUTCMinutes(),e,2)}function gn(t,e){return xe(t.getUTCSeconds(),e,2)}function vn(t){var e=t.getUTCDay();return 0===e?7:e}function mn(t,e){return xe(Nf.count(Af(t),t),e,2)}function wn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Ef(t):Ef.ceil(t),xe(Ef.count(Af(t),t)+(4===Af(t).getUTCDay()),e,2)}function _n(t){return t.getUTCDay()}function xn(t,e){return xe(Sf.count(Af(t),t),e,2)}function Mn(t,e){return xe(t.getUTCFullYear()%100,e,2)}function kn(t,e){return xe(t.getUTCFullYear()%1e4,e,4)}function Nn(){return"+0000"}function Sn(){return"%"}function En(t){return+t}function An(t){return Math.floor(+t/1e3)}function Tn(t){return"translate("+(t+.5)+",0)"}function On(t){return"translate(0,"+(t+.5)+")"}function Cn(t){return function(e){return+t(e)}}function Pn(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function jn(){return!this.__axis}function qn(t,e){function n(n){var h=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,d=null==o?e.tickFormat?e.tickFormat.apply(e,r):Lf:o,p=Math.max(a,0)+c,b=e.range(),y=+b[0]+.5,g=+b[b.length-1]+.5,v=(e.bandwidth?Pn:Cn)(e.copy()),m=n.selection?n.selection():n,w=m.selectAll(".domain").data([null]),_=m.selectAll(".tick").data(h,e).order(),x=_.exit(),M=_.enter().append("g").attr("class","tick"),k=_.select("line"),N=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(f+"2",s*a)),N=N.merge(M.append("text").attr("fill","#000").attr(f,s*p).attr("dy",t===Rf?"0em":t===Yf?"0.71em":"0.32em")),n!==m&&(w=w.transition(n),_=_.transition(n),k=k.transition(n),N=N.transition(n),x=x.transition(n).attr("opacity",Hf).attr("transform",function(t){return isFinite(t=v(t))?l(t):this.getAttribute("transform")}),M.attr("opacity",Hf).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:v(t))})),x.remove(),w.attr("d",t===Vf||t==$f?"M"+s*u+","+y+"H0.5V"+g+"H"+s*u:"M"+y+","+s*u+"V0.5H"+g+"V"+s*u),_.attr("opacity",1).attr("transform",function(t){return l(v(t))}),k.attr(f+"2",s*a),N.attr(f,s*p).text(d),m.filter(jn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$f?"start":t===Vf?"end":"middle"),m.each(function(){this.__axis=v})}var r=[],i=null,o=null,a=6,u=6,c=3,s=t===Rf||t===Vf?-1:1,f=t===Vf||t===$f?"x":"y",l=t===Rf||t===Yf?Tn:On;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return r=zf.call(arguments),n},n.tickArguments=function(t){return arguments.length?(r=null==t?[]:zf.call(t),n):r.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:zf.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=u=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(c=+t,n):c},n}function Un(t){return qn(Yf,t)}function Dn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fn(){}function In(t){var e;return t=(t+"").trim().toLowerCase(),(e=Qf.exec(t))?(e=parseInt(e[1],16),new Yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Jf.exec(t))?zn(parseInt(e[1],16)):(e=Kf.exec(t))?new Yn(e[1],e[2],e[3],1):(e=tl.exec(t))?new Yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=el.exec(t))?Ln(e[1],e[2],e[3],e[4]):(e=nl.exec(t))?Ln(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rl.exec(t))?Vn(e[1],e[2]/100,e[3]/100,1):(e=il.exec(t))?Vn(e[1],e[2]/100,e[3]/100,e[4]):ol.hasOwnProperty(t)?zn(ol[t]):"transparent"===t?new Yn(NaN,NaN,NaN,0):null}function zn(t){return new Yn(t>>16&255,t>>8&255,255&t,1)}function Ln(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yn(t,e,n,r)}function Rn(t){return t instanceof Fn||(t=In(t)),t?(t=t.rgb(),new Yn(t.r,t.g,t.b,t.opacity)):new Yn}function $n(t,e,n,r){return 1===arguments.length?Rn(t):new Yn(t,e,n,null==r?1:r)}function Yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Vn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xn(t,e,n,r)}function Hn(t){if(t instanceof Xn)return new Xn(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=In(t)),!t)return new Xn;if(t instanceof Xn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Xn(a,u,c,t.opacity)}function Xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Gn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Zn(t){if(t instanceof Bn)return new Bn(t.l,t.a,t.b,t.opacity);if(t instanceof er){var e=t.h*al;return new Bn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Yn||(t=Rn(t));var n=Kn(t.r),r=Kn(t.g),i=Kn(t.b),o=Wn((.4124564*n+.3575761*r+.1804375*i)/cl),a=Wn((.2126729*n+.7151522*r+.072175*i)/sl);return new Bn(116*a-16,500*(o-a),200*(a-Wn((.0193339*n+.119192*r+.9503041*i)/fl)),t.opacity)}function Bn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Wn(t){return t>pl?Math.pow(t,1/3):t/dl+ll}function Qn(t){return t>hl?t*t*t:dl*(t-ll)}function Jn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tr(t){if(t instanceof er)return new er(t.h,t.c,t.l,t.opacity);t instanceof Bn||(t=Zn(t));var e=Math.atan2(t.b,t.a)*ul;return new er(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function er(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function nr(t){if(t instanceof ir)return new ir(t.h,t.s,t.l,t.opacity);t instanceof Yn||(t=Rn(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(wl*r+vl*e-ml*n)/(wl+vl-ml),o=r-i,a=(gl*(n-i)-bl*o)/yl,u=Math.sqrt(a*a+o*o)/(gl*i*(1-i)),c=u?Math.atan2(a,o)*ul-120:NaN;return new ir(c<0?c+360:c,u,i,t.opacity)}function rr(t,e,n,r){return 1===arguments.length?nr(t):new ir(t,e,n,null==r?1:r)}function ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function or(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function ar(t,e){return function(n){return t+n*e}}function ur(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cr(t){return 1==(t=+t)?sr:function(e,n){return n-e?ur(e,n,t):_l(isNaN(e)?n:e)}}function sr(t,e){var n=e-t;return n?ar(t,n):_l(isNaN(t)?e:t)}function fr(t){return function e(n){function r(e,r){var i=t((e=rr(e)).h,(r=rr(r)).h),o=sr(e.s,r.s),a=sr(e.l,r.l),u=sr(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}function lr(t){var e=t.tickValues,n=t.extent,r=t.scale,i=t.title,o=he().domain(n).range([-Gl/2,Gl/2]),a=Un(o).tickSize(13).tickValues([n[0]].concat(Hl(e),[n[1]])).tickFormat(function(t){return t===n[1]?ql(t):Ul(100*t)});return function(t){t.call(a),t.selectAll("rect").data(r.range().map(function(t){var e=r.invertExtent(t);return null===e[0]&&(e[0]=o.domain()[0]),null===e[1]&&(e[1]=o.domain()[1]),e})).enter().insert("rect",".tick").attr("height",Xl).attr("x",function(t){return o(t[0])}).attr("width",function(t){return o(t[1])-o(t[0])}).attr("fill",function(t){return r(t[0])}),t.append("text").attr("fill","black").attr("font-weight","bold").attr("text-anchor","start").attr("x",-Gl/2).attr("y",-6).text(i)}}function hr(t){var e=t.labels,n=t.colors,r=t.width,i=t.title,o=Jc(e,n),a=Nt().domain(n).range([-r/2,r/2]).paddingInner(.2);return function(t){t.attr("font-size",10).attr("font-family","sans-serif"),t.selectAll("rect").data(n).enter().append("rect").attr("height",Xl).attr("y",0).attr("x",a).attr("width",a.bandwidth()).attr("fill",function(t){return t}),t.selectAll("text").data(o).enter().append("text").attr("fill","black").attr("text-anchor","middle").attr("x",function(t){return a(t[1])+a.bandwidth()/2}).attr("y",16).attr("dy","0.71em").html(function(t){return t[0]}),t.append("text").attr("fill","black").attr("font-weight","bold").attr("text-anchor","start").attr("x",-r/2).attr("y",-6).text(i)}}function dr(t){var e=t.title;return function(t){t.attr("font-size",10).attr("font-family","sans-serif"),t.append("rect").attr("fill",Dl).attr("x",-Gl/2).attr("width",Gl).attr("height",Xl),t.append("text").attr("fill","black").attr("font-weight","bold").attr("text-anchor","start").attr("x",-Gl/2).attr("y",-6).text(e)}}function pr(t,e,n,r){function i(t){var n=e(t);return Number.isNaN(n)?Dl:u(n)}var o=t.map(e).filter(function(t){return!Number.isNaN(t)});if(0===o.length){var a=function(){return Dl};return a.legend=dr({title:r}),a}var u=de().domain(o).range(n);return i.legend=lr({tickValues:u.quantiles(),extent:$c(o),scale:u,title:r}),i}function br(){function t(t){return t.candidats[0].nuance}function e(e){return Bl(t(e))}return e.legend=hr({labels:Zl,colors:Bl.range(),width:600,title:"Nuance arrivée en tête dans la circonscription"}),e.title="Candidats en tête",e}function yr(t){var e=pr(t.data,function(t){return(t.inscrits-t.votants)/t.inscrits},$l.colorFamily[5],"Niveau de l'abstention en part des inscrits");return e.title="Niveau de l'abstention",e}function gr(t){var e=t.nuance,n=t.data,r=e.codes,i=e.colorFamily[5],o=Array.isArray(e.qualifier)?e.qualifier[0]:e.qualifier,a=Array.isArray(e.qualifier)?e.qualifier[1]:e.qualifier,u=pr(n,function(t){var e=t.candidats.find(function(t){return r.includes(t.nuance)});return e?e.voix/t.exprimes:NaN},i,"Part des voix exprimés en faveur du meilleur candidat "+o);return u.title="Niveau des candidats "+a,u}function vr(t){function e(t){var e=t.candidats.findIndex(function(t){return i.includes(t.nuance)});return-1!==e?e:NaN}function n(t){var n=e(t);return Number.isNaN(n)?Dl:f(n)}var r=t.nuance,i=r.codes,o=r.colorFamily[4].slice().reverse(),a=["1<sup>er</sup>","2<sup>e</sup>","3<sup>e</sup>","4<sup>e</sup>+"],u=Array.isArray(r.qualifier)?r.qualifier[0]:r.qualifier,c=Array.isArray(r.qualifier)?r.qualifier[1]:r.qualifier,s="Position d'arrivée du meilleur candidat "+u,f=pe().range(o).domain(Yc(1,5));return n.legend=hr({labels:a,colors:o,width:200,legendTitle:s}),n.title="Rang des candidats "+c,n}function mr(t){var e=t.name,n=t.id,r=t.checked,i=t.onClick;return function(t){t.append("input").attr("type","radio").property("checked",r).attr("name",e).attr("id",n).on("click",i)}}function wr(t){return function(e){var n=Vl(e,3),r=n[0],i=n[1],o=n[2],a=r.selector;console.log(r);var u=o({data:t.map(function(t){return t.properties[a]}).filter(function(t){return null!==t}),nuance:i});return Object.assign(function(t){return null!==t.properties[a]?u(t.properties[a]):Dl},u)}}function _r(t){return function(e,n){return t.map(function(t,r){return Object.assign({buttonLabel:t.label,selected:0===n&&0===r},xr(e,t))})}}function xr(t,e){return{selector:t.selector+"-"+e.i,label:e.label+" "+t.qualifier}}function Mr(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new kr(r)}function kr(t){this._=t}function Nr(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Sr(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Er(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Kl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Ar(){return uh||(fh(Tr),uh=sh.now()+ch)}function Tr(){uh=0}function Or(){this._call=this._time=this._next=null}function Cr(t,e,n){var r=new Or;return r.restart(t,e,n),r}function Pr(){Ar(),++nh;for(var t,e=th;e;)(t=uh-e._time)>=0&&e._call.call(null,t),e=e._next;--nh}function jr(){uh=(ah=sh.now())+ch,nh=rh=0;try{Pr()}finally{nh=0,Ur(),uh=0}}function qr(){var t=sh.now(),e=t-ah;e>oh&&(ch-=e,ah=t)}function Ur(){for(var t,e,n=th,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:th=e);eh=t,Dr(r)}function Dr(t){nh||(rh&&(rh=clearTimeout(rh)),t-uh>24?(t<1/0&&(rh=setTimeout(jr,t-sh.now()-ch)),ih&&(ih=clearInterval(ih))):(ih||(ah=sh.now(),ih=setInterval(qr,oh)),nh=1,fh(jr)))}function Fr(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ph)throw new Error("too late");return n}function Ir(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>yh)throw new Error("too late");return n}function zr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Lr(t,e,n){function r(c){var s,f,l,h;if(n.state!==bh)return o();for(s in u)if((h=u[s]).name===n.name){if(h.state===gh)return lh(r);h.state===vh?(h.state=wh,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete u[s]):+s<e&&(h.state=wh,h.timer.stop(),delete u[s])}if(lh(function(){n.state===gh&&(n.state=vh,n.timer.restart(i,n.delay,n.time),i(c))}),n.state=yh,n.on.call("start",t,t.__data__,n.index,n.group),n.state===yh){for(n.state=gh,a=new Array(l=n.tween.length),s=0,f=-1;s<l;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(a[++f]=h);a.length=f+1}}function i(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=mh,1),i=-1,u=a.length;++i<u;)a[i].call(null,r);n.state===mh&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){n.state=wh,n.timer.stop(),delete u[e];for(var r in u)return;delete t.__transition}var a,u=t.__transition;u[e]=n,n.timer=Cr(function(t){n.state=bh,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)},0,n.time)}function Rr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $r(){}function Yr(t){var e;return t=(t+"").trim().toLowerCase(),(e=Eh.exec(t))?(e=parseInt(e[1],16),new Zr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Ah.exec(t))?Vr(parseInt(e[1],16)):(e=Th.exec(t))?new Zr(e[1],e[2],e[3],1):(e=Oh.exec(t))?new Zr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ch.exec(t))?Hr(e[1],e[2],e[3],e[4]):(e=Ph.exec(t))?Hr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jh.exec(t))?Br(e[1],e[2]/100,e[3]/100,1):(e=qh.exec(t))?Br(e[1],e[2]/100,e[3]/100,e[4]):Uh.hasOwnProperty(t)?Vr(Uh[t]):"transparent"===t?new Zr(NaN,NaN,NaN,0):null}function Vr(t){return new Zr(t>>16&255,t>>8&255,255&t,1)}function Hr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zr(t,e,n,r)}function Xr(t){return t instanceof $r||(t=Yr(t)),t?(t=t.rgb(),new Zr(t.r,t.g,t.b,t.opacity)):new Zr}function Gr(t,e,n,r){return 1===arguments.length?Xr(t):new Zr(t,e,n,null==r?1:r)}function Zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Br(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qr(t,e,n,r)}function Wr(t){if(t instanceof Qr)return new Qr(t.h,t.s,t.l,t.opacity);if(t instanceof $r||(t=Yr(t)),!t)return new Qr;if(t instanceof Qr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Qr(a,u,c,t.opacity)}function Qr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Jr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Kr(t){if(t instanceof ti)return new ti(t.l,t.a,t.b,t.opacity);if(t instanceof ai){var e=t.h*Dh;return new ti(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Zr||(t=Xr(t));var n=ii(t.r),r=ii(t.g),i=ii(t.b),o=ei((.4124564*n+.3575761*r+.1804375*i)/Ih),a=ei((.2126729*n+.7151522*r+.072175*i)/zh);return new ti(116*a-16,500*(o-a),200*(a-ei((.0193339*n+.119192*r+.9503041*i)/Lh)),t.opacity)}function ti(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ei(t){return t>Vh?Math.pow(t,1/3):t/Yh+Rh}function ni(t){return t>$h?t*t*t:Yh*(t-Rh)}function ri(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ii(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function oi(t){if(t instanceof ai)return new ai(t.h,t.c,t.l,t.opacity);t instanceof ti||(t=Kr(t));var e=Math.atan2(t.b,t.a)*Fh;return new ai(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ai(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ui(t){if(t instanceof si)return new si(t.h,t.s,t.l,t.opacity);t instanceof Zr||(t=Xr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Wh*r+Zh*e-Bh*n)/(Wh+Zh-Bh),o=r-i,a=(Gh*(n-i)-Hh*o)/Xh,u=Math.sqrt(a*a+o*o)/(Gh*i*(1-i)),c=u?Math.atan2(a,o)*Fh-120:NaN;return new si(c<0?c+360:c,u,i,t.opacity)}function ci(t,e,n,r){return 1===arguments.length?ui(t):new si(t,e,n,null==r?1:r)}function si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fi(t,e){return function(n){return t+n*e}}function li(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hi(t){return 1==(t=+t)?di:function(e,n){return n-e?li(e,n,t):ed(isNaN(e)?n:e)}}function di(t,e){var n=e-t;return n?fi(t,n):ed(isNaN(t)?e:t)}function pi(t){return function(){return t}}function bi(t){return function(e){return t(e)+""}}function yi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:rd(t,i)},{i:c-2,x:rd(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:rd(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:rd(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function c(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:rd(t,n)},{i:u-2,x:rd(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function gi(t){return function e(n){function r(e,r){var i=t((e=ci(e)).h,(r=ci(r)).h),o=di(e.s,r.s),a=di(e.l,r.l),u=di(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}function vi(t,e){var n,r;return function(){var i=Ir(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function mi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ir(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function wi(t,e,n){var r=t._id;return t.each(function(){var t=Ir(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return zr(t,r).value[e]}}function _i(t){return function(){this.removeAttribute(t)}}function xi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mi(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function ki(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function Ni(t,e,n){var r,i,o;return function(){var a,u=n(this);{if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttribute(t)}}}function Si(t,e,n){var r,i,o;return function(){var a,u=n(this);{if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}}function Ei(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function Ai(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function Ti(t,e){return function(){Fr(this,t).delay=+e.apply(this,arguments)}}function Oi(t,e){return e=+e,function(){Fr(this,t).delay=e}}function Ci(t,e){return function(){Ir(this,t).duration=+e.apply(this,arguments)}}function Pi(t,e){return e=+e,function(){Ir(this,t).duration=e}}function ji(t,e){if("function"!=typeof e)throw new Error;return function(){Ir(this,t).ease=e}}function qi(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Ui(t,e,n){var r,i,o=qi(e)?Fr:Ir;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}function Di(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Fi(t,e){var n,r,i;return function(){var o=M(this,t),a=(this.style.removeProperty(t),M(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Ii(t){return function(){this.style.removeProperty(t)}}function zi(t,e,n){var r,i;return function(){var o=M(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}function Li(t,e,n){var r,i,o;return function(){var a=M(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=M(this,t)),a===u?null:a===r&&u===i?o:o=e(r=a,i=u)}}function Ri(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function $i(t){return function(){this.textContent=t}}function Yi(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Vi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Hi(t){return B().transition(t)}function Xi(){return++pd}function Gi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return gd.time=Ar(),gd;return n}function Zi(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Bi(r)}function Bi(t){this._=t}function Wi(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Qi(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ji(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=vd,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Ki(t,e){var n=t.document.documentElement,r=Ra(t).on("dragstart.drag",null);e&&(r.on("click.drag",md,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function to(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function eo(){}function no(t){var e;return t=(t+"").trim().toLowerCase(),(e=Nd.exec(t))?(e=parseInt(e[1],16),new uo(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Sd.exec(t))?ro(parseInt(e[1],16)):(e=Ed.exec(t))?new uo(e[1],e[2],e[3],1):(e=Ad.exec(t))?new uo(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Td.exec(t))?io(e[1],e[2],e[3],e[4]):(e=Od.exec(t))?io(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Cd.exec(t))?co(e[1],e[2]/100,e[3]/100,1):(e=Pd.exec(t))?co(e[1],e[2]/100,e[3]/100,e[4]):jd.hasOwnProperty(t)?ro(jd[t]):"transparent"===t?new uo(NaN,NaN,NaN,0):null}function ro(t){return new uo(t>>16&255,t>>8&255,255&t,1)}function io(t,e,n,r){return r<=0&&(t=e=n=NaN),new uo(t,e,n,r)}function oo(t){return t instanceof eo||(t=no(t)),t?(t=t.rgb(),new uo(t.r,t.g,t.b,t.opacity)):new uo}function ao(t,e,n,r){return 1===arguments.length?oo(t):new uo(t,e,n,null==r?1:r)}function uo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function co(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fo(t,e,n,r)}function so(t){if(t instanceof fo)return new fo(t.h,t.s,t.l,t.opacity);if(t instanceof eo||(t=no(t)),!t)return new fo;if(t instanceof fo)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new fo(a,u,c,t.opacity)}function fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function lo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ho(t){if(t instanceof po)return new po(t.l,t.a,t.b,t.opacity);if(t instanceof wo){var e=t.h*qd;return new po(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof uo||(t=oo(t));var n=vo(t.r),r=vo(t.g),i=vo(t.b),o=bo((.4124564*n+.3575761*r+.1804375*i)/Dd),a=bo((.2126729*n+.7151522*r+.072175*i)/Fd);return new po(116*a-16,500*(o-a),200*(a-bo((.0193339*n+.119192*r+.9503041*i)/Id)),t.opacity)}function po(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function bo(t){return t>$d?Math.pow(t,1/3):t/Rd+zd}function yo(t){return t>Ld?t*t*t:Rd*(t-zd)}function go(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function vo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function mo(t){if(t instanceof wo)return new wo(t.h,t.c,t.l,t.opacity);t instanceof po||(t=ho(t));var e=Math.atan2(t.b,t.a)*Ud;return new wo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function _o(t){if(t instanceof Mo)return new Mo(t.h,t.s,t.l,t.opacity);t instanceof uo||(t=oo(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Zd*r+Xd*e-Gd*n)/(Zd+Xd-Gd),o=r-i,a=(Hd*(n-i)-Yd*o)/Vd,u=Math.sqrt(a*a+o*o)/(Hd*i*(1-i)),c=u?Math.atan2(a,o)*Ud-120:NaN;return new Mo(c<0?c+360:c,u,i,t.opacity)}function xo(t,e,n,r){return 1===arguments.length?_o(t):new Mo(t,e,n,null==r?1:r)}function Mo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ko(t,e){return function(n){return t+n*e}}function No(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function So(t){return 1==(t=+t)?Eo:function(e,n){return n-e?No(e,n,t):Bd(isNaN(e)?n:e)}}function Eo(t,e){var n=e-t;return n?ko(t,n):Bd(isNaN(t)?e:t)}function Ao(t){return((t=Math.exp(t))+1/t)/2}function To(t){return((t=Math.exp(t))-1/t)/2}function Oo(t){return((t=Math.exp(2*t))-1)/(t+1)}function Co(t){return function e(n){function r(e,r){var i=t((e=xo(e)).h,(r=xo(r)).h),o=Eo(e.s,r.s),a=Eo(e.l,r.l),u=Eo(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}function Po(t,e,n){this.target=t,this.type=e,this.transform=n}function jo(t,e,n){this.k=t,this.x=e,this.y=n}function qo(){Oa.stopImmediatePropagation()}function Uo(){return!Oa.button}function Do(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Fo(){return this.__zoom||tp}function Io(){return-Oa.deltaY*(Oa.deltaMode?120:1)/500}function zo(){return"ontouchstart"in this}function Lo(){this.reset()}function Ro(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function $o(t){return t>1?0:t<-1?op:Math.acos(t)}function Yo(t){return t>1?ap:t<-1?-ap:Math.asin(t)}function Vo(){}function Ho(t,e){t&&bp.hasOwnProperty(t.type)&&bp[t.type](t,e)}function Xo(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Go(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Xo(t[n],e,1);e.polygonEnd()}function Zo(){Ap.point=Bo}function Bo(t,e){Ap.point=Wo,gp=mp=t,vp=wp=e}function Wo(t,e){Ep.add(wp*t-mp*e),mp=t,wp=e}function Qo(){Wo(gp,vp)}function Jo(t,e){qp+=t,Up+=e,++Dp}function Ko(){Yp.point=ta}function ta(t,e){Yp.point=ea,Jo(Mp=t,kp=e)}function ea(t,e){var n=t-Mp,r=e-kp,i=dp(n*n+r*r);Fp+=i*(Mp+t)/2,Ip+=i*(kp+e)/2,zp+=i,Jo(Mp=t,kp=e)}function na(){Yp.point=Jo}function ra(){Yp.point=oa}function ia(){aa(_p,xp)}function oa(t,e){Yp.point=aa,Jo(_p=Mp=t,xp=kp=e)}function aa(t,e){var n=t-Mp,r=e-kp,i=dp(n*n+r*r);Fp+=i*(Mp+t)/2,Ip+=i*(kp+e)/2,zp+=i,Lp+=(i=kp*t-Mp*e)*(Mp+t),Rp+=i*(kp+e),$p+=3*i,Jo(Mp=t,kp=e)}function ua(t){this._context=t}function ca(t,e){Wp.point=sa,Hp=Gp=t,Xp=Zp=e}function sa(t,e){Gp-=t,Zp-=e,Bp.add(dp(Gp*Gp+Zp*Zp)),Gp=t,Zp=e}function fa(){this._string=[]}function la(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ha(t){return function(e,n){var r=lp(e),i=lp(n),o=t(r*i);return[o*i*hp(e),o*hp(n)]}}function da(t){return function(e,n){var r=dp(e*e+n*n),i=t(r),o=hp(i),a=lp(i);return[fp(e*o,r*a),Yo(r&&n*o/r)]}}function pa(t){t.append("defs").append("filter").attr("id","glowF").attr("filterUnits","userSpaceOnUse").attr("height",Kp).attr("width",Jp).attr("x",0).attr("y",0).html(ib)}function ba(t){t.append("text").attr("x",Jp-5).attr("y",tb+Kp-5).attr("text-anchor","end").attr("font-size",10).html(Pl)}function ya(t){var e=ob[t.departement],n=1===t.circonscription?"ère":"ème";return t.circonscription+"<sup>"+n+"</sup> circonscription "+e}function ga(t){var e=t.replace(/[a-zéàùèçâêîôûäëïöü]+/gi,function(t){return["d","de","du"].includes(t.toLowerCase())?t.toLowerCase():t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()});return e.charAt(0).toUpperCase()+e.substr(1)}function va(t){return"<strong>"+ga(t.nom)+"</strong>, "+t.prenom}function ma(t){t.append("caption").text("* Scores des candidats en % des exprimés, de l'abstention en % des inscrits");var e=t.append("thead").append("tr");return[["nuance",""],["candidat","Candidat"],["votes","Voix"],["pourcentage","%*"],["bar",""]].map(function(t){var n=Vl(t,2),r=n[0],i=n[1];e.append("th").html(i).attr("class",r)}),t.append("tbody")}function wa(t){var e=t.inscrits-t.votants,n=e/t.inscrits,r=e/t.exprimes,i=t.candidats.map(function(e){return{id:e.nuance+"/"+e.nom+"/"+e.prenom,label:va(e),pourcentage:jl(e.voix/t.exprimes),votes:Ul(e.voix),score:e.voix/t.exprimes,nuance:e.nuance}});return i.push({id:"abstention",label:"-",pourcentage:jl(n),votes:Ul(e),score:r,nuance:"Abstention"}),i}var _a="http://www.w3.org/1999/xhtml",xa={svg:"http://www.w3.org/2000/svg",xhtml:_a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ma=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),xa.hasOwnProperty(e)?{space:xa[e],local:t}:t},ka=function(n){var r=Ma(n);return(r.local?e:t)(r)},Na=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Sa=document.documentElement;if(!Sa.matches){var Ea=Sa.webkitMatchesSelector||Sa.msMatchesSelector||Sa.mozMatchesSelector||Sa.oMatchesSelector;Na=function(t){return function(){return Ea.call(this,t)}}}}var Aa=Na,Ta={},Oa=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ta={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ca=function(){for(var t,e=Oa;t=e.sourceEvent;)e=t;return e},Pa=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ja=function(t){var e=Ca();return e.changedTouches&&(e=e.changedTouches[0]),Pa(t,e)},qa=function(t){return null==t?c:function(){return this.querySelector(t)}},Ua=function(t){return null==t?s:function(){return this.querySelectorAll(t)}},Da=function(t){return new Array(t.length)};f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fa=function(t){return function(){return t}},Ia="$",za=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};T.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var La=[null];Z.prototype=B.prototype={constructor:Z,select:function(t){"function"!=typeof t&&(t=qa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),s[f]=a);return new Z(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Ua(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new Z(r,i)},filter:function(t){"function"!=typeof t&&(t=Aa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Z(r,this._parents)},data:function(t,e){if(!t)return b=new Array(this.size()),s=-1,this.each(function(t){b[++s]=t}),b;var n=e?h:l,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Fa(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],d=i[s],p=d.length,b=t.call(f,f&&f.__data__,s,r),y=b.length,g=u[s]=new Array(y),v=a[s]=new Array(y);n(f,d,g,v,c[s]=new Array(p),b,e);for(var m,w,_=0,x=0;_<y;++_)if(m=g[_]){for(_>=x&&(x=_+1);!(w=v[x])&&++x<y;);m._next=w||null}}return a=new Z(a,r),a._enter=u,a._exit=c,a},enter:function(){return new Z(this._enter||this._groups.map(Da),this._parents)},exit:function(){return new Z(this._exit||this._groups.map(Da),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],f=n[u],l=s.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new Z(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){t||(t=d);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var o,a=e[i],u=a.length,c=r[i]=new Array(u),s=0;s<u;++s)(o=a[s])&&(c[s]=o);c.sort(function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n})}return new Z(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ma(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?b:p:"function"==typeof e?n.local?m:v:n.local?g:y)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?w:"function"==typeof e?x:_)(t,e,null==n?"":n)):M(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?k:"function"==typeof e?S:N)(t,e)):this.node()[t]},classed:function(t,e){var n=E(t+"");if(arguments.length<2){for(var r=A(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?q:e?P:j)(n,e))},text:function(t){return arguments.length?this.each(null==t?U:("function"==typeof t?F:D)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?L:z)(t)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each($)},append:function(t){var e="function"==typeof t?t:ka(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:ka(t),r=null==e?Y:"function"==typeof e?e:qa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(V)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,u,c=i(t+""),s=c.length;{if(!(arguments.length<2)){for(f=e?a:o,null==n&&(n=!1),r=0;r<s;++r)this.each(f(c[r],e,n));return this}var f=this.node().__on;if(f)for(var l,h=0,d=f.length;h<d;++h)for(r=0,l=f[h];r<s;++r)if((u=c[r]).type===l.type&&u.name===l.name)return l.value}},dispatch:function(t,e){return this.each(("function"==typeof e?G:X)(t,e))}};var Ra=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],La)},$a=function(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([null==t?[]:t],La)},Ya=function(t,e,n){arguments.length<3&&(n=e,e=Ca().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Pa(t,r);return null};W.prototype=Q.prototype={constructor:W,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Va=Q.prototype;J.prototype=function(t,e){var n=new J;if(t instanceof J)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:J,has:Va.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Va.remove,clear:Va.clear,values:Va.keys,size:Va.size,empty:Va.empty,each:Va.each};var Ha={value:function(){}};tt.prototype=K.prototype={constructor:tt,on:function(t,e){var n,r=this._,i=et(t+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=rt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=rt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=nt(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Xa=function(t,e){function n(t){var e,n=s.status;if(!n&&ot(s)||n>=200&&n<300||304===n){if(o)try{e=o.call(r,s)}catch(t){return void u.call("error",r,t)}else e=s;u.call("load",r,e)}else u.call("error",r,t)}var r,i,o,a,u=K("beforesend","progress","load","error"),c=Q(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=n:s.onreadystatechange=function(t){s.readyState>3&&n(t)},s.onprogress=function(t){u.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(a=t,r):a},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,o){return s.open(e,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,e){s.setRequestHeader(e,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=a&&(s.responseType=a),h>0&&(s.timeout=h),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=it(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),u.call("beforesend",r,s),s.send(null==n?null:n),r},abort:function(){return s.abort(),r},on:function(){var t=u.on.apply(u,arguments);return t===u?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},Ga=function(t,e){return function(n,r){var i=Xa(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}};Ga("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)});var Za=Ga("application/json",function(t){return JSON.parse(t.responseText)});Ga("text/plain",function(t){return t.responseText}),Ga("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e});var Ba=function(t){function e(t,e){function n(){if(f>=s)return u;if(i)return i=!1,a;var e,n=f;if(34===t.charCodeAt(n)){for(var r=n;r++<s;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return f=r+2,13===(e=t.charCodeAt(r+1))?(i=!0,10===t.charCodeAt(r+2)&&++f):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;f<s;){var c=1;if(10===(e=t.charCodeAt(f++)))i=!0;else if(13===e)i=!0,10===t.charCodeAt(f)&&(++f,++c);else if(e!==o)continue;return t.slice(n,f-c)}return t.slice(n)}for(var r,i,a={},u={},c=[],s=t.length,f=0,l=0;(r=n())!==u;){for(var h=[];r!==a&&r!==u;)h.push(r),r=n();e&&null==(h=e(h,l++))||c.push(h)}return c}function n(e){return e.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?ut(t,n):at(t)});return o.columns=i,o},parseRows:e,format:function(e,n){return null==n&&(n=ct(e)),[n.map(r).join(t)].concat(e.map(function(e){return n.map(function(t){return r(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}},Wa=Ba(",").parse,Qa=Ba("\t").parse,Ja=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=Xa(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(st(e,r=t)):r},o.row(r),i?o.get(i):o}};Ja("text/csv",Wa),Ja("text/tab-separated-values",Qa);var Ka=function(t){return t},tu=function(t){if(null==t)return Ka;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var c=2,s=t.length,f=new Array(s);for(f[0]=(e+=t[0])*r+o,f[1]=(n+=t[1])*i+a;c<s;)f[c]=t[c],++c;return f}},eu=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},nu=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return ft(t,e)})}:ft(t,e)},ru=function(t,e){function n(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),u.push(r)}}var i={},o={},a={},u=[],c=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++c],e[c]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),u=i[0],c=i[1];if(e=a[u])if(delete a[e.end],e.push(t),e.end=c,r=o[c]){delete o[r.start];var s=r===e?e:e.concat(r);o[s.start=e.start]=a[s.end=r.end]=s}else o[e.start]=a[e.end]=e;else if(e=o[c])if(delete o[e.start],e.unshift(t),e.start=u,r=a[u]){delete a[r.end];var f=r===e?e:r.concat(e);o[f.start=r.start]=a[f.end=e.end]=f}else o[e.start]=a[e.end]=e;else o[(e=[t]).start=u]=a[e.end=c]=e}),r(a,o),r(o,a),e.forEach(function(t){i[t<0?~t:t]||u.push([t])}),u},iu=function(t){return lt(t,ht.apply(this,arguments))},ou=new ArrayBuffer(16),au=(new Float64Array(ou),new Uint32Array(ou),"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}),uu="undefined"!=typeof window&&window,cu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,su=void 0!==au&&au,fu=uu||su||cu,lu=fu;!function(){if(!fu)throw new Error("RxJS could not find any global context (window, self, global)")}();var hu,du={root:lu},pu={isFunction:function(t){return"function"==typeof t}},bu={isArray:Array.isArray||function(t){return t&&"number"==typeof t.length}},yu={isObject:function(t){return null!=t&&"object"==typeof t}},gu={errorObject:{e:{}}},vu={tryCatch:function(t){return hu=t,bt}},mu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},wu={UnsubscriptionError:function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return mu(e,t),e}(Error)},_u={Subscription:function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,r=n._parent,i=n._parents,o=n._unsubscribe,a=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u=-1,c=i?i.length:0;r;)r.remove(this),r=++u<c&&i[u]||null;if(pu.isFunction(o)&&(f=vu.tryCatch(o).call(this))===gu.errorObject&&(e=!0,t=t||(gu.errorObject.e instanceof wu.UnsubscriptionError?yt(gu.errorObject.e.errors):[gu.errorObject.e])),bu.isArray(a))for(u=-1,c=a.length;++u<c;){var s=a[u];if(yu.isObject(s)){var f=vu.tryCatch(s.unsubscribe).call(s);if(f===gu.errorObject){e=!0,t=t||[];var l=gu.errorObject.e;l instanceof wu.UnsubscriptionError?t=t.concat(yt(l.errors)):t.push(l)}}}if(e)throw new wu.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},xu={empty:{closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},Mu=pt(function(t,e){var n=du.root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),ku=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Nu=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=xu.empty;break;case 1:if(!n){this.destination=xu.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new Eu(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new Eu(this,n,r,i)}}return ku(e,t),e.prototype[Mu.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(_u.Subscription),Su=Nu,Eu=function(t){function e(e,n,r,i){t.call(this),this._parentSubscriber=e;var o,a=this;pu.isFunction(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==xu.empty&&(a=Object.create(n),pu.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=r,this._complete=i}return ku(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Nu),Au={Subscriber:Su},Tu={toSubscriber:function(t,e,n){if(t){if(t instanceof Au.Subscriber)return t;if(t[Mu.rxSubscriber])return t[Mu.rxSubscriber]()}return t||e||n?new Au.Subscriber(t,e,n):new Au.Subscriber(xu.empty)}},Ou=pt(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=n,e.observable=n(du.root),e.$$observable=e.observable}),Cu=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=Tu.toSubscriber(t,e,n);if(r?r.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(du.root.Rx&&du.root.Rx.config&&du.root.Rx.config.Promise?e=du.root.Rx.config.Promise:du.root.Promise&&(e=du.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[Ou.observable]=function(){return this},t.create=function(e){return new t(e)},t}(),Pu={Observable:Cu},ju=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},qu={ObjectUnsubscribedError:function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return ju(e,t),e}(Error)},Uu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Du={SubjectSubscription:function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Uu(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(_u.Subscription)},Fu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Iu=function(t){function e(e){t.call(this,e),this.destination=e}return Fu(e,t),e}(Au.Subscriber),zu=Iu,Lu=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Fu(e,t),e.prototype[Mu.rxSubscriber]=function(){return new Iu(this)},e.prototype.lift=function(t){var e=new $u(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new qu.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new qu.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new qu.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new qu.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new qu.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),_u.Subscription.EMPTY):this.isStopped?(t.complete(),_u.Subscription.EMPTY):(this.observers.push(t),new Du.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Pu.Observable;return t.source=this,t},e.create=function(t,e){return new $u(t,e)},e}(Pu.Observable),Ru=Lu,$u=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Fu(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):_u.Subscription.EMPTY},e}(Lu),Yu={SubjectSubscriber:zu,Subject:Ru,AnonymousSubject:$u},Vu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Hu={Action:function(t){function e(e,n){t.call(this)}return Vu(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(_u.Subscription)},Xu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Gu={AsyncAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return Xu(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),du.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:du.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(Hu.Action)},Zu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Bu={QueueAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Zu(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(Gu.AsyncAction)},Wu={Scheduler:function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}()},Qu=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ju={AsyncScheduler:function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Qu(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Wu.Scheduler)},Ku=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},tc={queue:new({QueueScheduler:function(t){function e(){t.apply(this,arguments)}return Ku(e,t),e}(Ju.AsyncScheduler)}.QueueScheduler)(Bu.QueueAction)},ec={Notification:function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Pu.Observable.of(this.value);case"E":return Pu.Observable.throw(this.error);case"C":return Pu.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},nc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rc=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new oc(t,this.scheduler,this.delay))},t}(),ic=rc,oc=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return nc(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new uc(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ec.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ec.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(ec.Notification.createComplete())},e}(Au.Subscriber),ac=oc,uc=function(){return function(t,e){this.notification=t,this.destination=e}}(),cc={observeOn:function(t,e){return void 0===e&&(e=0),this.lift(new rc(t,e))},ObserveOnOperator:ic,ObserveOnSubscriber:ac,ObserveOnMessage:uc},sc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},fc=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return sc(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new lc(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new qu.ObjectUnsubscribedError;this.hasError?e=_u.Subscription.EMPTY:this.isStopped?e=_u.Subscription.EMPTY:(this.observers.push(t),e=new Du.SubjectSubscription(this,t)),r&&t.add(t=new cc.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||tc.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(Yu.Subject),lc=function(){return function(t,e){this.time=t,this.value=e}}(),hc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},dc=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new bc(t,this.project,this.thisArg))},t}(),pc=dc,bc=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return hc(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Au.Subscriber),yc={map:function(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new dc(t,e))},MapOperator:pc};Pu.Observable.prototype.map=yc.map;var gc={isScheduler:function(t){return t&&"function"==typeof t.schedule}},vc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},mc={ScalarObservable:function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return vc(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;e?r.complete():(r.next(n),r.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(Pu.Observable)},wc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_c={EmptyObservable:function(t){function e(e){t.call(this),this.scheduler=e}return wc(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(Pu.Observable)},xc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Mc={ArrayObservable:function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return xc(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];gc.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new mc.ScalarObservable(t[0],r):new _c.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(Pu.Observable)},kc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Nc={OuterSubscriber:function(t){function e(){t.apply(this,arguments)}return kc(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Au.Subscriber)},Sc={isArrayLike:function(t){return t&&"number"==typeof t.length}},Ec={isPromise:function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},Ac=pt(function(t,e){function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}e.symbolIteratorPonyfill=n,e.iterator=n(du.root),e.$$iterator=e.iterator}),Tc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Oc={InnerSubscriber:function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Tc(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Au.Subscriber)},Cc={subscribeToResult:function(t,e,n,r){var i=new Oc.InnerSubscriber(t,n,r);if(i.closed)return null;if(e instanceof Pu.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):e.subscribe(i);if(Sc.isArrayLike(e)){for(var o=0,a=e.length;o<a&&!i.closed;o++)i.next(e[o]);i.closed||i.complete()}else{if(Ec.isPromise(e))return e.then(function(t){i.closed||(i.next(t),i.complete())},function(t){return i.error(t)}).then(null,function(t){du.root.setTimeout(function(){throw t})}),i;if(e&&"function"==typeof e[Ac.iterator])for(var u=e[Ac.iterator]();;){var c=u.next();if(c.done){i.complete();break}if(i.next(c.value),i.closed)break}else if(e&&"function"==typeof e[Ou.observable]){var s=e[Ou.observable]();if("function"==typeof s.subscribe)return s.subscribe(new Oc.InnerSubscriber(t,n,r));i.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var f="You provided "+(yu.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(f))}}return null}},Pc=au&&au.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},jc={},qc=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Dc(t,this.project))},t}(),Uc=qc,Dc=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return Pc(e,t),e.prototype._next=function(t){this.values.push(jc),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Cc.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],u=this.toRespond?a===jc?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Nc.OuterSubscriber),Fc={combineLatest:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&bu.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new Mc.ArrayObservable(t),new qc(n))},CombineLatestOperator:Uc,CombineLatestSubscriber:Dc},Ic={combineLatest:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=null;return gc.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&bu.isArray(t[0])&&(t=t[0]),new Mc.ArrayObservable(t,r).lift(new Fc.CombineLatestOperator(n))}};Pu.Observable.combineLatest=Ic.combineLatest;var zc=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Lc=function(t){return 1===t.length&&(t=gt(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(zc).right,Rc=function(t){return null===t?NaN:+t},$c=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},Yc=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},Vc=Math.sqrt(50),Hc=Math.sqrt(10),Xc=Math.sqrt(2),Gc=function(t,e,n){var r,i,o,a,u=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=vt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o},Zc=function(t,e,n){if(null==n&&(n=Rc),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},Bc=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},Wc=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},Qc=function(t){if(!(i=t.length))return[];for(var e=-1,n=Wc(t,wt),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},Jc=function(){return Qc(arguments)};_t.prototype=xt.prototype={constructor:_t,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Kc=xt.prototype;Mt.prototype=function(t,e){var n=new Mt;if(t instanceof Mt)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Mt,has:Kc.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Kc.remove,clear:Kc.clear,values:Kc.keys,size:Kc.size,empty:Kc.empty,each:Kc.each};var ts=Array.prototype,es=ts.map,ns=ts.slice,rs={name:"implicit"},is=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},os="\\s*([+-]?\\d+)\\s*",as="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",us="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cs=/^#([0-9a-f]{3})$/,ss=/^#([0-9a-f]{6})$/,fs=new RegExp("^rgb\\("+[os,os,os]+"\\)$"),ls=new RegExp("^rgb\\("+[us,us,us]+"\\)$"),hs=new RegExp("^rgba\\("+[os,os,os,as]+"\\)$"),ds=new RegExp("^rgba\\("+[us,us,us,as]+"\\)$"),ps=new RegExp("^hsl\\("+[as,us,us]+"\\)$"),bs=new RegExp("^hsla\\("+[as,us,us,as]+"\\)$"),ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};is(Et,At,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),is(jt,Pt,St(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),is(Dt,function(t,e,n,r){return 1===arguments.length?Ut(t):new Dt(t,e,n,null==r?1:r)},St(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jt(Ft(t>=240?t-240:t+120,i,r),Ft(t,i,r),Ft(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var gs=Math.PI/180,vs=180/Math.PI,ms=.95047,ws=1,_s=1.08883,xs=4/29,Ms=6/29,ks=3*Ms*Ms,Ns=Ms*Ms*Ms;is(zt,function(t,e,n,r){return 1===arguments.length?It(t):new zt(t,e,n,null==r?1:r)},St(Et,{brighter:function(t){return new zt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new zt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=ws*Rt(t),e=ms*Rt(e),n=_s*Rt(n),new jt($t(3.2404542*e-1.5371385*t-.4985314*n),$t(-.969266*e+1.8760108*t+.041556*n),$t(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),is(Ht,function(t,e,n,r){return 1===arguments.length?Vt(t):new Ht(t,e,n,null==r?1:r)},St(Et,{brighter:function(t){return new Ht(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ht(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return It(this).rgb()}}));var Ss=-.14861,Es=1.78277,As=-.29227,Ts=-.90649,Os=1.97294,Cs=Os*Ts,Ps=Os*Es,js=Es*As-Ts*Ss;is(Zt,Gt,St(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*gs,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new jt(255*(e+n*(Ss*r+Es*i)),255*(e+n*(As*r+Ts*i)),255*(e+n*(Os*r)),this.opacity)}}));var qs=function(t){return function(){return t}},Us=function t(e){function n(t,e){var n=r((t=Pt(t)).r,(e=Pt(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=Jt(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=Qt(e);return n.gamma=t,n}(1),Ds=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=Ys(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},Fs=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},Is=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},zs=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=Ys(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Ls=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rs=new RegExp(Ls.source,"g"),$s=function(t,e){var n,r,i,o=Ls.lastIndex=Rs.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=Ls.exec(t))&&(r=Rs.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Is(n,r)})),o=Rs.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?te(c[0].x):Kt(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})},Ys=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?qs(e):("number"===r?Is:"string"===r?(n=At(e))?(e=n,Us):$s:e instanceof At?Us:e instanceof Date?Fs:Array.isArray(e)?Ds:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?zs:Is)(t,e)},Vs=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}};ee(function(t,e){var n=e-t;return n?Bt(t,n>180||n<-180?n-360*Math.round(n/360):n):qs(isNaN(t)?e:t)});var Hs,Xs=ee(Jt),Gs=function(t){return function(){return t}},Zs=function(t){return+t},Bs=[0,1],Ws=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Qs=function(t){return(t=Ws(Math.abs(t)))?t[1]:NaN},Js=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}},Ks=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},tf=function(t,e){var n=Ws(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},ef={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return tf(100*t,e)},r:tf,s:function(t,e){var n=Ws(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Hs=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ws(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},nf=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;se.prototype=fe.prototype,fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var rf,of,af,uf=function(t){return t},cf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],sf=function(t){function e(t){function e(t){var e,r,a,f=y,w=g;if("c"===b)w=v(t)+w,t="";else{var _=(t=+t)<0;if(t=v(Math.abs(t),p),_&&0==+t&&(_=!1),f=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+f,w=w+("s"===b?cf[8+Hs/3]:"")+(_&&"("===s?")":""),m)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){w=(46===a?i+t.slice(e+1):t.slice(e))+w,t=t.slice(0,e);break}}d&&!l&&(t=n(t,1/0));var x=f.length+t.length+w.length,M=x<h?new Array(h-x+1).join(u):"";switch(d&&l&&(t=n(M+t,M.length?h-w.length:1/0),M=""),c){case"<":t=f+t+w+M;break;case"=":t=f+M+t+w;break;case"^":t=M.slice(0,x=M.length>>1)+f+t+w+M.slice(x);break;default:t=M+f+t+w}return o(t)}var u=(t=se(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,d=t.comma,p=t.precision,b=t.type,y="$"===f?r[0]:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",g="$"===f?r[1]:/[%p]/.test(b)?a:"",v=ef[b],m=!b||/[defgprs%]/.test(b);return p=null==p?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?Js(t.grouping,t.thousands):uf,r=t.currency,i=t.decimal,o=t.numerals?Ks(t.numerals):uf,a=t.percent||"%";return{format:e,formatPrefix:function(t,n){var r=e((t=se(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Qs(n)/3))),o=Math.pow(10,-i),a=cf[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){rf=sf(t),of=rf.format,af=rf.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ff=function(t){return Math.max(0,-Qs(Math.abs(t)))},lf=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qs(e)/3)))-Qs(Math.abs(t)))},hf=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qs(e)-Qs(t))+1},df=function(t,e,n){var r,i=t[0],o=t[t.length-1],a=mt(i,o,null==e?10:e);switch((n=se(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=lf(a,u))||(n.precision=r),af(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=hf(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=ff(a))||(n.precision=r-2*("%"===n.type))}return of(n)},pf=new Date,bf=new Date,yf=be(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});yf.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?be(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):yf:null};var gf=6e4,vf=6048e5,mf=(be(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),be(function(t){t.setTime(Math.floor(t/gf)*gf)},function(t,e){t.setTime(+t+e*gf)},function(t,e){return(e-t)/gf},function(t){return t.getMinutes()}),be(function(t){var e=t.getTimezoneOffset()*gf%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),be(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gf)/864e5},function(t){return t.getDate()-1})),wf=ye(0),_f=ye(1),xf=(ye(2),ye(3),ye(4)),Mf=(ye(5),ye(6),be(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),be(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Mf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?be(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};be(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*gf)},function(t,e){return(e-t)/gf},function(t){return t.getUTCMinutes()}),be(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var kf=be(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Nf=ge(0),Sf=ge(1),Ef=(ge(2),ge(3),ge(4)),Af=(ge(5),ge(6),be(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),be(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Af.every=function(t){return isFinite(t=Math.floor(t))&&t>0?be(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Tf,Of,Cf,Pf,jf,qf={"-":"",_:" ",0:"0"},Uf=/^\s*\d+/,Df=/^%/,Ff=/[\\^$*+?|[\]().{}]/g;!function(t){Tf=_e(t),Of=Tf.format,Cf=Tf.parse,Pf=Tf.utcFormat,jf=Tf.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Pf("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||jf("%Y-%m-%dT%H:%M:%S.%LZ");var If=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})};If("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),If("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),If("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),If("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Xs(Gt(300,.5,0),Gt(-240,.5,1));Xs(Gt(-100,.75,.35),Gt(80,1.5,.8)),Xs(Gt(260,.75,.35),Gt(80,1.5,.8)),Gt();var zf=Array.prototype.slice,Lf=function(t){return t},Rf=1,$f=2,Yf=3,Vf=4,Hf=1e-6,Xf=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n};Xf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Xf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Xf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Xf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Xf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Gf=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Zf="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qf=/^#([0-9a-f]{3})$/,Jf=/^#([0-9a-f]{6})$/,Kf=new RegExp("^rgb\\("+[Zf,Zf,Zf]+"\\)$"),tl=new RegExp("^rgb\\("+[Wf,Wf,Wf]+"\\)$"),el=new RegExp("^rgba\\("+[Zf,Zf,Zf,Bf]+"\\)$"),nl=new RegExp("^rgba\\("+[Wf,Wf,Wf,Bf]+"\\)$"),rl=new RegExp("^hsl\\("+[Bf,Wf,Wf]+"\\)$"),il=new RegExp("^hsla\\("+[Bf,Wf,Wf,Bf]+"\\)$"),ol={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gf(Fn,In,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Gf(Yn,$n,Dn(Fn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Gf(Xn,function(t,e,n,r){return 1===arguments.length?Hn(t):new Xn(t,e,n,null==r?1:r)},Dn(Fn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yn(Gn(t>=240?t-240:t+120,i,r),Gn(t,i,r),Gn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var al=Math.PI/180,ul=180/Math.PI,cl=.95047,sl=1,fl=1.08883,ll=4/29,hl=6/29,dl=3*hl*hl,pl=hl*hl*hl;Gf(Bn,function(t,e,n,r){return 1===arguments.length?Zn(t):new Bn(t,e,n,null==r?1:r)},Dn(Fn,{brighter:function(t){return new Bn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Bn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=sl*Qn(t),e=cl*Qn(e),n=fl*Qn(n),new Yn(Jn(3.2404542*e-1.5371385*t-.4985314*n),Jn(-.969266*e+1.8760108*t+.041556*n),Jn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Gf(er,function(t,e,n,r){return 1===arguments.length?tr(t):new er(t,e,n,null==r?1:r)},Dn(Fn,{brighter:function(t){return new er(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new er(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Zn(this).rgb()}}));var bl=-.29227,yl=-.90649,gl=1.97294,vl=gl*yl,ml=1.78277*gl,wl=1.78277*bl- -.14861*yl;Gf(ir,rr,Dn(Fn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ir(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ir(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*al,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Yn(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(bl*r+yl*i)),255*(e+n*(gl*r)),this.opacity)}}));var _l=function(t){return function(){return t}};!function t(e){function n(t,e){var n=r((t=$n(t)).r,(e=$n(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=sr(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=cr(e);return n.gamma=t,n}(1);var xl=function(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=$n(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return or((n-r/e)*e,a,i,o,u)}}),Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;new RegExp(Ml.source,"g");fr(function(t,e){var n=e-t;return n?ar(t,n>180||n<-180?n-360*Math.round(n/360):n):_l(isNaN(t)?e:t)});fr(sr);var kl=function(t){return xl(t[t.length-1])};kl(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Xf)),kl(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Xf)),kl(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Xf)),kl(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Xf)),kl(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Xf)),kl(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Xf)),kl(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Xf)),kl(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Xf)),kl(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Xf)),kl(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Xf)),kl(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Xf)),kl(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Xf)),kl(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Xf)),kl(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Xf)),kl(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Xf)),kl(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Xf)),kl(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Xf)),kl(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Xf)),kl(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Xf)),kl(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Xf)),kl(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Xf));var Nl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Xf);kl(Nl);var Sl=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Xf);kl(Sl);var El=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Xf);kl(El);var Al=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Xf);kl(Al);var Tl=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Xf);kl(Tl);var Ol=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Xf);kl(Ol);var Cl=sf({decimal:",",thousands:" ",grouping:[3],currency:[""," €"],percent:" %"}),Pl="Contours des circonscriptions par l'Atelier de cartographie de Sciences Po et Toxicode",jl=Cl.format(".1%"),ql=Cl.format(".0%"),Ul=Cl.format(",d"),Dl="rgb(200,200,200)",Fl=12,Il=[{label:"Présidentielle",selector:"presidentielle",qualifier:"de l'élection présidentielle"},{label:"Législatives",selector:"legislatives",qualifier:"des élections législatives"}],zl=[{label:"1<sup>er</sup> tour",i:1},{label:"2<sup>e</sup> tour",i:2}],Ll=[{codes:["COM"],label:"COM",qualifier:["communiste","communistes"],description:"Cela regroupe les candidats présentés par le Parti Communiste Français.",colorFamily:Tl},{codes:["FI"],label:"FI",qualifier:"de la France insoumise",description:"Cela regroupe les candidats investis par la France insoumise. Cela inclut des candidats parla suite élus qui n'ont pas rejoints le groupe politique formé par les députés de la France insoumise.",colorFamily:Tl},{codes:["ECO"],label:"ECO",qualifier:["écologiste","écologistes"],description:"Il s'agit des candidats identifiés comme écologistes par le ministère de l'intérieur. Cela inclut notamment les candidats d'Europe Ecologie/Les Verts, mais aussi ceux d'autres formations écologistes, le ministère de l'intérieur n'ayant pas choisi de comptabiliser EELV séparément cette année.",colorFamily:Sl},{codes:["SOC","RDG"],label:"PS",qualifier:["socialiste ou radical de gauche","PS/RDG"],description:"Cela regroupe les candidats se présentant sous les étiquettes Parti Socialiste et Radicaux de Gauche.",colorFamily:Tl},{codes:["REM","MDM"],label:"EM",qualifier:"En Marche!/MoDem",description:"Cela regroupe les candidats se présentant sous les étiquettes La République en Marche et Modem.",colorFamily:Ol},{codes:["LR","UDI"],label:"LR",qualifier:["républicain ou UDI","républicains et UDI"],description:"Cela regroupe les candidats se présentant sous les étiquettes Les Républicains et Union des Démocrates Indépendants (UDI).",colorFamily:Al},{codes:["FN"],label:"FN",qualifier:"du Front National",description:"Il s'agit des candidats investis par le Front National.",colorFamily:El}],Rl=Ll.findIndex(function(t){return"FI"===t.label}),$l={colorFamily:Nl,label:"Abstention"},Yl={EXG:"#be1113",COM:"#a90f00",FI:"#f45532",SOC:"#f88573",RDG:"#ffb494",DVG:"#e8b68c",ECO:"#19ac31",DIV:"#e5d9a1",REG:"#ff5df9",REM:"#ffc600",MDM:"#ffa144",UDI:"#65aeb9",LR:"#23408f",DVD:"#057c85",DLF:"#6f6f9c",FN:"#2f3e4b",EXD:"#000",Abstention:"#120958"},Vl=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Hl=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Xl=8,Gl=480;br.label="Candidat en tête",yr.label=$l.label;var Zl=Object.keys(Yl).slice(0,-1),Bl=kt().domain(Zl).range(Zl.map(function(t){return Yl[t]}));gr.label="Part voix exprimées",vr.label="Rang candidat";var Wl=[br,yr],Ql=[gr,vr],Jl=function(t){var e=function(t){t.attr("class","selector");var e=t.append("div").attr("class","scrutins group");e.append("h3").text("Choix du scrutin");var o=e.append("div").selectAll(".scrutin").data(Il).enter().append("div").attr("class","subgroup");o.append("h4").text(function(t){return t.label});var a=o.append("div").selectAll(".tour").data(_r(zl)).enter().append("div").attr("class","option tour");a.call(mr({name:"scrutin",id:function(t,e){return"id-"+t.selector},checked:function(t){return t.selected},onClick:function(t){return n.next(t)}})),a.append("label").attr("for",function(t,e){return"id-"+t.selector}).html(function(t){return t.buttonLabel});var u=t.append("div").attr("class","metric group");u.append("h3").text("Choix de l'indicateur");var c=u.append("div"),s=c.append("div").attr("class","subgroup");s.append("h4").text("Indicateurs généraux");var f=s.append("div").selectAll(".option").data(Wl).enter().append("div").attr("class","option");f.call(mr({name:"metric",id:function(t,e){return"general-metric-"+e},checked:function(t,e){return 0===e},onClick:function(t){return i.next(t)}})),f.append("label").attr("for",function(t,e){return"general-metric-"+e}).text(function(t){return t.label});var l=c.append("div").attr("class","subgroup"),h=l.append("div");h.append("h4").text("Indicateurs pour").attr("class","inlined");var d=h.selectAll(".option").data(Ll).enter().append("div").attr("class","option nuance");d.call(mr({name:"nuance",id:function(t,e){return"nuance-"+e},checked:function(t,e){return e===Rl},onClick:function(t){return r.next(t)}})),d.append("label").attr("for",function(t,e){return"nuance-"+e}).text(function(t){return t.label});var p=l.append("div").selectAll(".option").data(Ql).enter().append("div").attr("class","option");p.call(mr({name:"metric",id:function(t,e){return"specific-metric-"+e},checked:!1,onClick:function(t){return i.next(t)}})),p.append("label").attr("for",function(t,e){return"specific-metric-"+e}).text(function(t){return t.label})},n=e.scrutin$=new fc(1),r=e.nuance$=new fc(1),i=new fc(1);e.metric$=Cu.combineLatest(n,r,i).map(wr(t));return n.next(xr(Il[0],zl[0])),r.next(Ll[Rl]),i.next(Wl[0]),e},Kl={value:function(){}};kr.prototype=Mr.prototype={constructor:kr,on:function(t,e){var n,r=this._,i=Nr(t+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Er(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Er(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Sr(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kr(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var th,eh,nh=0,rh=0,ih=0,oh=1e3,ah=0,uh=0,ch=0,sh="object"==typeof performance&&performance.now?performance:Date,fh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Or.prototype=Cr.prototype={constructor:Or,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ar():+n)+(null==e?0:+e),this._next||eh===this||(eh?eh._next=this:th=this,eh=this),this._call=t,this._time=n,Dr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dr())}};var lh=function(t,e,n){var r=new Or;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},hh=Mr("start","end","interrupt"),dh=[],ph=0,bh=1,yh=2,gh=3,vh=4,mh=5,wh=6,_h=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Lr(t,n,{name:e,index:r,group:i,on:hh,tween:dh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ph})},xh=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>yh&&n.state<mh,n.state=wh,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},Mh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},kh="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eh=/^#([0-9a-f]{3})$/,Ah=/^#([0-9a-f]{6})$/,Th=new RegExp("^rgb\\("+[kh,kh,kh]+"\\)$"),Oh=new RegExp("^rgb\\("+[Sh,Sh,Sh]+"\\)$"),Ch=new RegExp("^rgba\\("+[kh,kh,kh,Nh]+"\\)$"),Ph=new RegExp("^rgba\\("+[Sh,Sh,Sh,Nh]+"\\)$"),jh=new RegExp("^hsl\\("+[Nh,Sh,Sh]+"\\)$"),qh=new RegExp("^hsla\\("+[Nh,Sh,Sh,Nh]+"\\)$"),Uh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mh($r,Yr,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Mh(Zr,Gr,Rr($r,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Mh(Qr,function(t,e,n,r){return 1===arguments.length?Wr(t):new Qr(t,e,n,null==r?1:r)},Rr($r,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zr(Jr(t>=240?t-240:t+120,i,r),Jr(t,i,r),Jr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Dh=Math.PI/180,Fh=180/Math.PI,Ih=.95047,zh=1,Lh=1.08883,Rh=4/29,$h=6/29,Yh=3*$h*$h,Vh=$h*$h*$h;Mh(ti,function(t,e,n,r){return 1===arguments.length?Kr(t):new ti(t,e,n,null==r?1:r)},Rr($r,{brighter:function(t){return new ti(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ti(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=zh*ni(t),e=Ih*ni(e),n=Lh*ni(n),new Zr(ri(3.2404542*e-1.5371385*t-.4985314*n),ri(-.969266*e+1.8760108*t+.041556*n),ri(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Mh(ai,function(t,e,n,r){return 1===arguments.length?oi(t):new ai(t,e,n,null==r?1:r)},Rr($r,{brighter:function(t){return new ai(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ai(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Kr(this).rgb()}}));var Hh=-.29227,Xh=-.90649,Gh=1.97294,Zh=Gh*Xh,Bh=1.78277*Gh,Wh=1.78277*Hh- -.14861*Xh;Mh(si,ci,Rr($r,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new si(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new si(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Dh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Zr(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Hh*r+Xh*i)),255*(e+n*(Gh*r)),this.opacity)}}));var Qh,Jh,Kh,td,ed=function(t){return function(){return t}},nd=function t(e){function n(t,e){var n=r((t=Gr(t)).r,(e=Gr(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=di(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=hi(e);return n.gamma=t,n}(1),rd=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},id=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,od=new RegExp(id.source,"g"),ad=function(t,e){var n,r,i,o=id.lastIndex=od.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=id.exec(t))&&(r=od.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:rd(n,r)})),o=od.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?bi(c[0].x):pi(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})},ud=180/Math.PI,cd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},sd=function(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ud,skewX:Math.atan(c)*ud,scaleX:a,scaleY:u}},fd=yi(function(t){return"none"===t?cd:(Qh||(Qh=document.createElement("DIV"),Jh=document.documentElement,Kh=document.defaultView),Qh.style.transform=t,t=Kh.getComputedStyle(Jh.appendChild(Qh),null).getPropertyValue("transform"),Jh.removeChild(Qh),t=t.slice(7,-1).split(","),sd(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ld=yi(function(t){return null==t?cd:(td||(td=document.createElementNS("http://www.w3.org/2000/svg","g")),td.setAttribute("transform",t),(t=td.transform.baseVal.consolidate())?(t=t.matrix,sd(t.a,t.b,t.c,t.d,t.e,t.f)):cd)},", ",")",")");gi(function(t,e){var n=e-t;return n?fi(t,n>180||n<-180?n-360*Math.round(n/360):n):ed(isNaN(t)?e:t)});gi(di);var hd=function(t,e){var n;return("number"==typeof e?rd:e instanceof Yr?nd:(n=Yr(e))?(e=n,nd):ad)(t,e)},dd=B.prototype.constructor,pd=0,bd=B.prototype;Vi.prototype=Hi.prototype={constructor:Vi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qa(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],f=s.length,l=o[a]=new Array(f),h=0;h<f;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),l[h]=c,_h(l[h],e,n,h,l,zr(u,n)));return new Vi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ua(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=zr(c,n),b=0,y=d.length;b<y;++b)(h=d[b])&&_h(h,e,n,b,d,p);o.push(d),a.push(c)}return new Vi(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Aa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Vi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],f=n[u],l=s.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new Vi(a,this._parents,this._name,this._id)},selection:function(){return new dd(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Xi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var f=zr(a,e);_h(a,t,n,s,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vi(r,this._parents,t,n)},call:bd.call,nodes:bd.nodes,node:bd.node,size:bd.size,empty:bd.empty,each:bd.each,on:function(t,e){var n=this._id;return arguments.length<2?zr(this.node(),n).on.on(t):this.each(Ui(n,t,e))},attr:function(t,e){var n=Ma(t),r="transform"===n?ld:hd;return this.attrTween(t,"function"==typeof e?(n.local?Si:Ni)(n,r,wi(this,"attr."+t,e)):null==e?(n.local?xi:_i)(n):(n.local?ki:Mi)(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ma(t);return this.tween(n,(r.local?Ei:Ai)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?fd:hd;return null==e?this.styleTween(t,Fi(t,r)).on("end.style."+t,Ii(t)):this.styleTween(t,"function"==typeof e?Li(t,r,wi(this,"style."+t,e)):zi(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ri(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?Yi(wi(this,"text",t)):$i(null==t?"":t+""))},remove:function(){return this.on("end.remove",Di(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=zr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?vi:mi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ti:Oi)(e,t)):zr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ci:Pi)(e,t)):zr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ji(e,t)):zr(this.node(),e).ease}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var yd=2*Math.PI,gd=(function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return r.amplitude=function(e){return t(e,n*yd)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return r.amplitude=function(e){return t(e,n*yd)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return r.amplitude=function(e){return t(e,n*yd)},r.period=function(n){return t(e,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});B.prototype.interrupt=function(t){return this.each(function(){xh(this,t)})},B.prototype.transition=function(t){var e,n;t instanceof Vi?(e=t._id,t=t._name):(e=Xi(),(n=gd).time=Ar(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&_h(a,t,e,s,u,n||Gi(a,e));return new Vi(r,this._parents,t,e)};var vd={value:function(){}};Bi.prototype=Zi.prototype={constructor:Bi,on:function(t,e){var n,r=this._,i=Wi(t+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ji(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ji(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Qi(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bi(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var md=function(){Oa.preventDefault(),Oa.stopImmediatePropagation()},wd=function(t){var e=t.document.documentElement,n=Ra(t).on("dragstart.drag",md,!0);"onselectstart"in e?n.on("selectstart.drag",md,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},_d=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},xd="\\s*([+-]?\\d+)\\s*",Md="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nd=/^#([0-9a-f]{3})$/,Sd=/^#([0-9a-f]{6})$/,Ed=new RegExp("^rgb\\("+[xd,xd,xd]+"\\)$"),Ad=new RegExp("^rgb\\("+[kd,kd,kd]+"\\)$"),Td=new RegExp("^rgba\\("+[xd,xd,xd,Md]+"\\)$"),Od=new RegExp("^rgba\\("+[kd,kd,kd,Md]+"\\)$"),Cd=new RegExp("^hsl\\("+[Md,kd,kd]+"\\)$"),Pd=new RegExp("^hsla\\("+[Md,kd,kd,Md]+"\\)$"),jd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_d(eo,no,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),_d(uo,ao,to(eo,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new uo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new uo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),_d(fo,function(t,e,n,r){return 1===arguments.length?so(t):new fo(t,e,n,null==r?1:r)},to(eo,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new fo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new uo(lo(t>=240?t-240:t+120,i,r),lo(t,i,r),lo(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var qd=Math.PI/180,Ud=180/Math.PI,Dd=.95047,Fd=1,Id=1.08883,zd=4/29,Ld=6/29,Rd=3*Ld*Ld,$d=Ld*Ld*Ld;_d(po,function(t,e,n,r){return 1===arguments.length?ho(t):new po(t,e,n,null==r?1:r)},to(eo,{brighter:function(t){return new po(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new po(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Fd*yo(t),e=Dd*yo(e),n=Id*yo(n),new uo(go(3.2404542*e-1.5371385*t-.4985314*n),go(-.969266*e+1.8760108*t+.041556*n),go(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),_d(wo,function(t,e,n,r){return 1===arguments.length?mo(t):new wo(t,e,n,null==r?1:r)},to(eo,{brighter:function(t){return new wo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new wo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ho(this).rgb()}}));var Yd=-.29227,Vd=-.90649,Hd=1.97294,Xd=Hd*Vd,Gd=1.78277*Hd,Zd=1.78277*Yd- -.14861*Vd;_d(Mo,xo,to(eo,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new uo(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Yd*r+Vd*i)),255*(e+n*(Hd*r)),this.opacity)}}));var Bd=function(t){return function(){return t}};!function t(e){function n(t,e){var n=r((t=ao(t)).r,(e=ao(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=Eo(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=So(e);return n.gamma=t,n}(1);var Wd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qd=(new RegExp(Wd.source,"g"),Math.SQRT2),Jd=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],c=e[1],s=e[2],f=u-i,l=c-o,h=f*f+l*l;if(h<1e-12)r=Math.log(s/a)/Qd,n=function(t){return[i+t*f,o+t*l,a*Math.exp(Qd*t*r)]};else{var d=Math.sqrt(h),p=(s*s-a*a+4*h)/(2*a*2*d),b=(s*s-a*a-4*h)/(2*s*2*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(b*b+1)-b);r=(g-y)/Qd,n=function(t){var e=t*r,n=Ao(y),u=a/(2*d)*(n*Oo(Qd*e+y)-To(y));return[i+u*f,o+u*l,a*n/Ao(Qd*e+y)]}}return n.duration=1e3*r,n};Co(function(t,e){var n=e-t;return n?ko(t,n>180||n<-180?n-360*Math.round(n/360):n):Bd(isNaN(t)?e:t)});Co(Eo);var Kd=function(t){return function(){return t}};jo.prototype={constructor:jo,scale:function(t){return 1===t?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tp=new jo(1,0,0),ep=function(){Oa.preventDefault(),Oa.stopImmediatePropagation()},np=function(){function t(t){t.property("__zoom",Fo).on("wheel.zoom",s).on("mousedown.zoom",f).on("dblclick.zoom",l).filter(w).on("touchstart.zoom",h).on("touchmove.zoom",d).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return(e=Math.max(_,Math.min(x,e)))===t.k?t:new jo(e,t.x,t.y)}function n(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new jo(t.k,r,i)}function r(t,e){var n=t.invertX(e[0][0])-M,r=t.invertX(e[1][0])-k,i=t.invertY(e[0][1])-N,o=t.invertY(e[1][1])-S;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,e,n){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,o=a(t,r),u=v.apply(t,r),c=n||i(u),s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,l="function"==typeof e?e.apply(t,r):e,h=A(f.invert(c).concat(s/f.k),l.invert(c).concat(s/l.k));return function(t){if(1===t)t=l;else{var e=h(t),n=s/e[2];t=new jo(n,c[0]-e[0]*n,c[1]-e[1]*n)}o.zoom(null,t)}})}function a(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new c(t,e)}function c(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=v.apply(t,e)}function s(){if(g.apply(this,arguments)){var t=a(this,arguments),i=this.__zoom,o=Math.max(_,Math.min(x,i.k*Math.pow(2,m.apply(this,arguments)))),u=ja(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=i.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(i.k===o)return;t.mouse=[u,i.invert(u)],xh(this),t.start()}ep(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},P),t.zoom("mouse",r(n(e(i,o),t.mouse[0],t.mouse[1]),t.extent))}}function f(){if(!y&&g.apply(this,arguments)){var t=a(this,arguments),e=Ra(Oa.view).on("mousemove.zoom",function(){if(ep(),!t.moved){var e=Oa.clientX-o,i=Oa.clientY-u;t.moved=e*e+i*i>j}t.zoom("mouse",r(n(t.that.__zoom,t.mouse[0]=ja(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Ki(Oa.view,t.moved),ep(),t.end()},!0),i=ja(this),o=Oa.clientX,u=Oa.clientY;wd(Oa.view),qo(),t.mouse=[i,this.__zoom.invert(i)],xh(this),t.start()}}function l(){if(g.apply(this,arguments)){var i=this.__zoom,a=ja(this),u=i.invert(a),c=r(n(e(i,i.k*(Oa.shiftKey?.5:2)),a,u),v.apply(this,arguments));ep(),E>0?Ra(this).transition().duration(E).call(o,c,a):Ra(this).call(t.transform,c)}}function h(){if(g.apply(this,arguments)){var t,e,n,r,i=a(this,arguments),o=Oa.changedTouches,u=o.length;for(qo(),e=0;e<u;++e)n=o[e],r=[r=Ya(this,o,n.identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(b&&(b=clearTimeout(b),!i.touch1))return i.end(),void((r=Ra(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(b=setTimeout(function(){b=null},C),xh(this),i.start())}}function d(){var t,i,o,u,c=a(this,arguments),s=Oa.changedTouches,f=s.length;for(ep(),b&&(b=clearTimeout(b)),t=0;t<f;++t)i=s[t],o=Ya(this,s,i.identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],d=c.touch1[0],p=c.touch1[1],y=(y=d[0]-l[0])*y+(y=d[1]-l[1])*y,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;i=e(i,Math.sqrt(y/g)),o=[(l[0]+d[0])/2,(l[1]+d[1])/2],u=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],u=c.touch0[1]}c.zoom("touch",r(n(i,o,u),c.extent))}function p(){var t,e,n=a(this,arguments),r=Oa.changedTouches,i=r.length;for(qo(),y&&clearTimeout(y),y=setTimeout(function(){y=null},C),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var b,y,g=Uo,v=Do,m=Io,w=zo,_=0,x=1/0,M=-x,k=x,N=M,S=k,E=250,A=Jd,T=[],O=Zi("start","zoom","end"),C=500,P=150,j=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Fo),t!==n?o(t,e):n.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(o,a){t.transform(o,function(){var t=v.apply(this,arguments),o=this.__zoom,u=i(t),c=o.invert(u);return r(n(e(o,"function"==typeof a?a.apply(this,arguments):a),u,c),t)})},t.translateBy=function(e,n,i){t.transform(e,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),v.apply(this,arguments))})},t.translateTo=function(e,n,o){t.transform(e,function(){var t=v.apply(this,arguments),e=this.__zoom,a=i(t);return r(tp.translate(a[0],a[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof o?-o.apply(this,arguments):-o),t)})},c.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){u(new Po(t,e,this.that.__zoom),O.apply,O,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(m="function"==typeof e?e:Kd(+e),t):m},t.filter=function(e){return arguments.length?(g="function"==typeof e?e:Kd(!!e),t):g},t.touchable=function(e){return arguments.length?(w="function"==typeof e?e:Kd(!!e),t):w},t.extent=function(e){return arguments.length?(v="function"==typeof e?e:Kd([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):v},t.scaleExtent=function(e){return arguments.length?(_=+e[0],x=+e[1],t):[_,x]},t.translateExtent=function(e){return arguments.length?(M=+e[0][0],k=+e[1][0],N=+e[0][1],S=+e[1][1],t):[[M,N],[k,S]]},t.duration=function(e){return arguments.length?(E=+e,t):E},t.interpolate=function(e){return arguments.length?(A=e,t):A},t.on=function(){var e=O.on.apply(O,arguments);return e===O?t:e},t.clickDistance=function(e){return arguments.length?(j=(e=+e)*e,t):Math.sqrt(j)},t},rp=function(){return new Lo};Lo.prototype={constructor:Lo,reset:function(){this.s=this.t=0},add:function(t){Ro(ip,t,this.t),Ro(this,ip.s,this.s),this.s?this.t+=ip.t:this.s=ip.t},valueOf:function(){return this.s}};var ip=new Lo,op=Math.PI,ap=op/2,up=2*op,cp=op/180,sp=Math.abs,fp=(Math.atan,Math.atan2),lp=Math.cos,hp=Math.sin,dp=Math.sqrt,pp={Feature:function(t,e){Ho(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ho(n[r].geometry,e)}},bp={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Xo(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Xo(n[r],e,0)},Polygon:function(t,e){Go(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Go(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ho(n[r],e)}},yp=function(t,e){t&&pp.hasOwnProperty(t.type)?pp[t.type](t,e):Ho(t,e)};rp(),rp(),rp(),rp();rp();var gp,vp,mp,wp,_p,xp,Mp,kp,Np=function(t){return t},Sp=rp(),Ep=rp(),Ap={point:Vo,lineStart:Vo,lineEnd:Vo,polygonStart:function(){Ap.lineStart=Zo,Ap.lineEnd=Qo},polygonEnd:function(){Ap.lineStart=Ap.lineEnd=Ap.point=Vo,Sp.add(sp(Ep)),Ep.reset()},result:function(){var t=Sp/2;return Sp.reset(),t}},Tp=1/0,Op=Tp,Cp=-Tp,Pp=Cp,jp={point:function(t,e){t<Tp&&(Tp=t),t>Cp&&(Cp=t),e<Op&&(Op=e),e>Pp&&(Pp=e)},lineStart:Vo,lineEnd:Vo,polygonStart:Vo,polygonEnd:Vo,result:function(){var t=[[Tp,Op],[Cp,Pp]];return Cp=Pp=-(Op=Tp=1/0),t}},qp=0,Up=0,Dp=0,Fp=0,Ip=0,zp=0,Lp=0,Rp=0,$p=0,Yp={point:Jo,lineStart:Ko,lineEnd:na,polygonStart:function(){Yp.lineStart=ra,Yp.lineEnd=ia},polygonEnd:function(){Yp.point=Jo,Yp.lineStart=Ko,Yp.lineEnd=na},result:function(){var t=$p?[Lp/$p,Rp/$p]:zp?[Fp/zp,Ip/zp]:Dp?[qp/Dp,Up/Dp]:[NaN,NaN];return qp=Up=Dp=Fp=Ip=zp=Lp=Rp=$p=0,t}};ua.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,up)}},result:Vo};var Vp,Hp,Xp,Gp,Zp,Bp=rp(),Wp={point:Vo,lineStart:function(){Wp.point=ca},lineEnd:function(){Vp&&sa(Hp,Xp),Wp.point=Vo},polygonStart:function(){Vp=!0},polygonEnd:function(){Vp=null},result:function(){var t=+Bp;return Bp.reset(),t}};fa.prototype={_radius:4.5,_circle:la(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=la(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Qp=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),yp(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return yp(t,r(Ap)),Ap.result()},n.measure=function(t){return yp(t,r(Wp)),Wp.result()},n.bounds=function(t){return yp(t,r(jp)),jp.result()},n.centroid=function(t){return yp(t,r(Yp)),Yp.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,Np):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new fa):new ua(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)};lp(30*cp);ha(function(t){return dp(2/(1+t))}).invert=da(function(t){return 2*Yo(t/2)}),ha(function(t){return(t=$o(t))&&t/hp(t)}).invert=da(function(t){return t});var Jp=1e3,Kp=870,tb=100,eb=.5,nb=2,rb=function(t,e,n){function r(r){r.attr("class","map");var o=r.append("svg").attr("width",Jp).attr("height",tb+Kp);pa(o);var a=o.append("g").attr("transform","translate(0,"+tb+")"),u=o.append("text").attr("x",Jp/2).attr("y",80).attr("text-anchor","middle").attr("font-size",48).attr("font-family","Abril Fatface");ba(o);var c=a.append("g"),s=c.append("g").selectAll(".circonscription").data(t),f=null,l=Qp().projection(null);s=s.enter().append("path").attr("class","circonscription").attr("d",l).attr("stroke","black").attr("stroke-width",eb).on("click",function(t,e,n){$a(".selected").classed("selected",!1),Ra(this).classed("selected",!0).raise(),i.next(t.properties)}).merge(s);var h=c.append("path").datum(e).attr("fill","none").attr("stroke","black").attr("stroke-width",nb).attr("d",l),d=np().scaleExtent([1,Fl]).translateExtent([[0,0],[Jp,tb+Kp]]).on("zoom",function(){c.attr("transform",Oa.transform),s.attr("stroke-width",eb/Oa.transform.k),h.attr("stroke-width",nb/Oa.transform.k)});o.call(d),r.append("button").attr("class","reset-button fa fa-refresh").on("click",function(){var t=Hi().duration(250);o.transition(t).call(d.transform,tp)}),n.subscribe(function(t){u.text(t.title);var e=Hi("circonscriptions").duration(1e3);s.transition(e).attr("fill",t),f&&f.remove(),f=o.append("g").attr("transform","translate("+Jp/2+","+(tb+Kp-50)+")").call(t.legend)})}var i=r.circonscription$=new fc(1);return r},ib='\n<feMorphology operator="dilate" radius="4" in="SourceAlpha" result="thicken" />\n\n\x3c!-- Use a gaussian blur to create the soft blurriness of the glow --\x3e\n<feGaussianBlur in="thicken" stdDeviation="7" result="blurred" />\n\n\x3c!--\tLayer the effects together --\x3e\n<feMerge>\n  <feMergeNode in="blurred"/>\n  <feMergeNode in="SourceGraphic"/>\n</feMerge>\n',ob={ZA:"de la Guadeloupe",ZB:"de la Martinique",ZC:"de la Guyane",ZD:"de La Réunion",ZM:"de Mayotte",ZN:"de Nouvelle-Calédonie",ZS:"de Saint-Pierre-et-Miquelon",ZW:"de Wallis-et-Futuna",ZP:"de Polynésie Française",ZX:"de Saint-Barthélémy et Saint-Martin",ZZ:"des Français établis hors de France",10:"de l’Aube",11:"de l’Aude",12:"de l’Aveyron",13:"des Bouches-du-Rhône",14:"du Calvados",15:"du Cantal",16:"de la Charente",17:"de la Charente-Maritime",18:"du Cher",19:"de la Corrèze",21:"de la Côte-d'Or",22:"des Côtes d'Armor",23:"de la Creuse",24:"de la Dordogne",25:"du Doubs",26:"de la Drôme",27:"de l’Eure",28:"de l’Eure-et-Loir",29:"du Finistère",30:"du Gard",31:"de la Haute-Garonne",32:"du Gers",33:"de la Gironde",34:"de l’Hérault",35:"de l’Ille-et-Vilaine",36:"de l’Indre",37:"de l’Indre-et-Loire",38:"de l’Isère",39:"du Jura",40:"des Landes",41:"du Loir-et-Cher",42:"de la Loire",43:"de la Haute-Loire",44:"de la Loire-Atlantique",45:"du Loiret",46:"du Lot",47:"du Lot-et-Garonne",48:"de la Lozère",49:"du Maine-et-Loire",50:"de la Manche",51:"de la Marne",52:"de la Haute-Marne",53:"de la Mayenne",54:"de la Meurthe-et-Moselle",55:"de la Meuse",56:"du Morbihan",57:"de la Moselle",58:"de la Nièvre",59:"du Nord",60:"de l’Oise",61:"de l’Orne",62:"du Pas-de-Calais",63:"du Puy-de-Dôme",64:"des Pyrénées-Atlantiques",65:"des Hautes-Pyrénées",66:"des Pyrénées-Orientales",67:"du Bas-Rhin",68:"du Haut-Rhin",69:"du Rhône",70:"de la Haute-Saône",71:"de la Saône-et-Loire",72:"de la Sarthe",73:"de la Savoie",74:"de la Haute-Savoie",75:"de Paris",76:"de la Seine-Maritime",77:"de la Seine-et-Marne",78:"des Yvelines",79:"des Deux-Sèvres",80:"de la Somme",81:"du Tarn",82:"du Tarn-et-Garonne",83:"du Var",84:"du Vaucluse",85:"de la Vendée",86:"de la Vienne",87:"de la Haute-Vienne",88:"des Vosges",89:"de l’Yonne",90:"du Territoire-de-Belfort",91:"de l’Essonne",92:"des Hauts-de-Seine",93:"de la Seine-Saint-Denis",94:"du Val-de-Marne",95:"du Val-d'Oise","01":"de l’Ain","02":"de l’Aisne","03":"de l’Allier","04":"des Alpes de Hautes-Provence","05":"des Hautes-Alpes","06":"des Alpes-Maritimes","07":"de l’Ardèche","08":"des Ardennes","09":"de l’Ariège","2A":"de la Corse-du-Sud","2B":"de la Haute-Corse"},ab=100,ub=function(t,e){return function(n){n.attr("class","details");var r=n.append("h2").text(""),i=n.append("div").attr("class","hide").text("Pas de second tour dans cette circonscription."),o=n.append("div").attr("class","hide"),a=o.append("h3"),u=ma(o.append("table"));o.append("h3").text("Liste des communes dans cette circonscription");var c=o.append("div").attr("class","communes"),s=he().rangeRound([0,ab]);Cu.combineLatest(t,e).subscribe(function(t){var e=Vl(t,2),n=e[0],f=e[1];if(r.html(ya(f)),a.html("Résultats pour le "+n.label),null===f[n])return o.classed("hide",!0),void i.classed("hide",!1);o.classed("hide",!1),i.classed("hide",!0);var l=wa(f[n.selector]);s.domain([0,Bc(l,function(t){return t.score})]);var h=u.selectAll("tr").data(l,function(t){return t.id}),d=h.enter().append("tr").attr("class",function(t){return t.nuance});d.append("th").text(function(t){return t.nuance}).attr("class","nuance").style("color",function(t){return Yl[t.nuance]}),d.append("td").html(function(t){return t.label}).attr("class","candidat"),d.append("td").attr("class","votes"),d.append("td").attr("class","pourcentage"),d.append("td").append("div").attr("class","bar");var p=d.merge(h).order();p.select(".votes").text(function(t){return t.votes}),p.select(".pourcentage").text(function(t){return t.pourcentage}),p.select(".bar").style("width",function(t){return s(t.score)+"px"}).style("background-color",function(t){return Yl[t.nuance]}),h.exit().remove(),c.text(f.communes)})}},cb=function(t){return function(e){var n=nu(t,t.objects.circonscriptions).features,r=iu(t,t.objects.circonscriptions,function(t,e){return t===e||t.properties.departement!==e.properties.departement}),i=Jl(n),o=rb(n,r,i.metric$),a=ub(i.scrutin$,o.circonscription$);e.append("nav").call(i),e.append("main").call(o),e.append("div").attr("class","sidebar").append("div").call(a)}};Za("topology.json",function(t,e){if(t)throw t;Ra("#app").call(cb(e))})}();
